-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Dec 12, 2025 at 10:26 AM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `bookhub_db`
--

-- --------------------------------------------------------

--
-- Stand-in structure for view `active_rentals_view`
-- (See below for the actual view)
--
CREATE TABLE `active_rentals_view` (
`rental_id` int(11)
,`start_date` date
,`end_date` date
,`status` enum('pending','approved','rejected','active','completed','overdue','cancelled')
,`total_cost` decimal(10,2)
,`user_name` varchar(101)
,`user_email` varchar(100)
,`phone` varchar(20)
,`book_title` varchar(255)
,`book_author` varchar(255)
,`genre` varchar(100)
,`days_remaining` int(7)
,`rental_status` varchar(8)
);

-- --------------------------------------------------------

--
-- Table structure for table `admins`
--

CREATE TABLE `admins` (
  `id` int(11) NOT NULL,
  `full_name` varchar(100) NOT NULL,
  `username` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `password` varchar(255) NOT NULL,
  `role` enum('super_admin','admin','moderator') NOT NULL DEFAULT 'admin',
  `permissions` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`permissions`)),
  `last_login` datetime DEFAULT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `created_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `admins`
--

INSERT INTO `admins` (`id`, `full_name`, `username`, `email`, `password`, `role`, `permissions`, `last_login`, `is_active`, `created_at`, `updated_at`, `created_by`) VALUES
(1, 'System Administrator', 'admin', 'admin@bookhub.com', '$2y$10$OcqPkFk.vUb4Ba7NrRV6e.8Ow3VdTCX5Nuh7bDLnIopqHHHFGXUXe', 'super_admin', NULL, '2025-12-12 14:07:56', 1, '2025-12-02 16:36:47', '2025-12-12 08:37:56', NULL);

-- --------------------------------------------------------

--
-- Table structure for table `audit_logs`
--

CREATE TABLE `audit_logs` (
  `id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `admin_id` int(11) DEFAULT NULL,
  `action` varchar(100) NOT NULL,
  `table_name` varchar(50) NOT NULL,
  `record_id` int(11) DEFAULT NULL,
  `old_values` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`old_values`)),
  `new_values` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`new_values`)),
  `ip_address` varchar(45) DEFAULT NULL,
  `user_agent` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `books`
--

CREATE TABLE `books` (
  `id` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `author` varchar(255) NOT NULL,
  `isbn` varchar(20) DEFAULT NULL,
  `genre` varchar(100) DEFAULT NULL,
  `description` text DEFAULT NULL,
  `book_type` enum('physical','online') NOT NULL DEFAULT 'physical',
  `total_quantity` int(11) NOT NULL DEFAULT 1,
  `available_quantity` int(11) NOT NULL DEFAULT 1,
  `rental_price_per_day` decimal(10,2) DEFAULT NULL,
  `purchase_price` decimal(10,2) DEFAULT NULL,
  `publisher` varchar(255) DEFAULT NULL,
  `publication_date` date DEFAULT NULL,
  `language` varchar(50) DEFAULT 'English',
  `pages` int(11) DEFAULT NULL,
  `cover_image` longblob DEFAULT NULL,
  `cover_image_type` varchar(50) DEFAULT NULL,
  `pdf_file` longblob DEFAULT NULL,
  `pdf_file_name` varchar(255) DEFAULT NULL,
  `pdf_file_size` bigint(20) DEFAULT NULL,
  `pdf_file_type` varchar(50) DEFAULT NULL,
  `rating` decimal(3,2) DEFAULT 0.00,
  `total_ratings` int(11) DEFAULT 0,
  `total_rentals` int(11) DEFAULT 0,
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `created_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `books`
--

INSERT INTO `books` (`id`, `title`, `author`, `isbn`, `genre`, `description`, `book_type`, `total_quantity`, `available_quantity`, `rental_price_per_day`, `purchase_price`, `publisher`, `publication_date`, `language`, `pages`, `cover_image`, `cover_image_type`, `pdf_file`, `pdf_file_name`, `pdf_file_size`, `pdf_file_type`, `rating`, `total_ratings`, `total_rentals`, `is_active`, `created_at`, `updated_at`, `created_by`) VALUES
(2, 'To Kill a Mockingbird', 'Harper Lee', '9780060935467', 'Classic Literature', 'A gripping tale of racial injustice and childhood innocence', 'physical', 3, 3, 1.25, NULL, 'J.B. Lippincott & Co.', NULL, 'English', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-02 16:36:47', '2025-12-02 16:36:47', 1),
(3, '1984', 'George Orwell', '9780451524935', 'Dystopian Fiction', 'A dystopian social science fiction novel', 'physical', 4, 4, 1.75, NULL, 'Secker & Warburg', NULL, 'English', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-02 16:36:47', '2025-12-02 16:36:47', 1),
(4, 'Pride and Prejudice', 'Jane Austen', '9780141439518', 'Romance', 'A romantic novel of manners', 'physical', 2, 2, 1.00, NULL, 'T. Egerton', NULL, 'English', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-02 16:36:47', '2025-12-02 16:36:47', 1),
(5, 'The Catcher in the Rye', 'J.D. Salinger', '9780316769174', 'Coming of Age', 'A controversial novel about teenage rebellion', 'physical', 3, 3, 1.50, NULL, 'Little, Brown and Company', NULL, 'English', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-02 16:36:47', '2025-12-02 16:36:47', 1);
INSERT INTO `books` (`id`, `title`, `author`, `isbn`, `genre`, `description`, `book_type`, `total_quantity`, `available_quantity`, `rental_price_per_day`, `purchase_price`, `publisher`, `publication_date`, `language`, `pages`, `cover_image`, `cover_image_type`, `pdf_file`, `pdf_file_name`, `pdf_file_size`, `pdf_file_type`, `rating`, `total_ratings`, `total_rentals`, `is_active`, `created_at`, `updated_at`, `created_by`) VALUES
(6, 'The Great Gatsby', 'F. Scott Fitzgerald', '978-0743273565', 'Fiction', 'The Great Gatsby is a 1925 novel by American writer F. Scott Fitzgerald. Set in the Jazz Age on Long Island, the novel depicts narrator Nick Carraway\'s interactions with mysterious millionaire Jay Gatsby.', 'physical', 5, 4, 2.50, NULL, 'Scribner', '1925-04-10', '0', 180, 0x89504e470d0a1a0a0000000d49484452000003a8000003280806000000c2f1cdf0000000017352474200aece1ce90000000467414d410000b18f0bfc6105000000097048597300000ec300000ec301c76fa8640000673249444154785eedfd7bbc5c757d2ffebf6766efdc6f7be74a4842121248100c088810411a0554b4140f5a6d7b2cc7164e4ff5d4f353ce29bf6f7bb0fab5e7500b552a692b9c63a9daa29516a957b0a28811958b408410720372cfcefd7ed97be6fbc7de6b32b3666667ef6427593bfbf97c3c267bd6e7f399b5d6ccacc9acd77c3e6baddcc2855f28050000009c64f974010000009c0c022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009022a0000009920a00200009009b9850bbf504a173672e04031d6acd91d6bd7ec892d9bf7c5eeddedb1774f7b576d2e22225a5a0647f3a07c4c9e3c2c4e9f323ca64c1d5e358f63d1d67620962ed9195b361f88b64d07cbe563c60c8a499387c6bc0b46c7c8914d558fe96bbb7675c4ba35fb63fdba83b17b577b6cdfd611870e55be84b918d35288e641f918dbda1cade39a62f294c1317264a1a20d000000693d0aa86b56ef89975edc162b56ece82ae90ca387d54e2725c38637c5ecb347c7f9178c8dc1838faec3b6aded40fcf4f1b668db74a0aba476798939e78c8a375f3136d6aed91fdffbd6c6aa569dcdea3ff6f7fef3d45479b5756b0ec4e2e777c7da35fb2b9e5fedbc7255458727ae7e474b4c9e32a8b2120000800add26c603078af1ef0faf8e6f7ff395a30aa711117bf776c473bfdc1afff4e5e5f1ec335b2b6a7ae6a51776c643ffb2a647e1342262e98bbbe287ffde565516d17d384d97a62d7a7c7b7cef3b9b8f3a9c02000070640d036adba6fdf18f5f5a1a2b56ecac284d87aedae9ea8c7678aafd50299efc795bfce0fbebe3c0816265ab865e7a6167fce4f1cab059bbbceaa9cee995cbf7c6e2e79340dd83709aaeaaf0a37fdf1a4b97ece99a124e0100008e97ba01b56dd3fef8e643abe2d0a1ca20990e5db5d38dc269e5bd95cb77c5bffdebea2386d4952b761f55384dcad7beb6bf62b2fe630f57a5eb3b3df9f39db172e5beaea96309a7b9fac500000094d504d403078a5de1b4a3a2349dae6aa7ab33dae1a97af7b66f3f108b7ebca93c9d76e040311eff51657dedf2aaa792e954bb5c9db2ca9859b7bed3ae5d1db1f8b95d5d53c7184e01000038a29a80fa9d6fbdd2154e1b84be3ad3d519edf054bd7bc9f48ae5bb62e58adda9f24e8b7edc567166dcdac7564f3558cf5c9db2ca9859b7feb0e79f154e0100004ea4aa80ba66f59ed8b4716f45b04a07acdae9ea8c7678aadebdeae95c3cb1a8f664463b771daa08ae8d1e9b4c3558cf5c9db2aee9c355e9fa6a5bb71caa5842ba6d7538bdf0e291f15b1f9c1037de34317eeb8313e2ea77b4c4d97386c5e8319597bc49cf030000804a5501f5b967375705c86ab5d353a70d8feb6f981137ffe19cb8f90fe7c4dbae9e1cc3863755b4ac7d4ce5dfbd7b3a62c90b9527618a58b9fc6484d3f474c4f66ded958faa50db737adef9c363d0e0cec24183733179caa0b8f4f29171fd7b5be35dbfd11a33660ea97c00000000759403ea8103c558b3ba67e130221713270e8d77be6b6a8c9f30b85c3af3cc91f1dedf9c11cdcdf9ba8fa9fedbe99555c919723b2d5fbabba64d7aba329c3637e762fe15adf17b7f7046fcde1f9c110bae1a1fc38615aa5a97ff3dfc4f4d7d5afba1529dbada701a11b174c9decac22ae3c637c55bde3a2a269fde9cae020000a04239a0ae59d3f3709a8b88f9974f4a95771a3c381f73cf6d4995d60fa711b958bbba3adc6ddf7ea86a3afd9874cfe93b7e7d52cc396764b97ec6cc61f19ef79d16cdcdb9729bc3b9b476f98d0c1d5e1972a361388d8878e227bbe2c1af6f89c5cfee895dbb2a4f2e050000404f9503eae64dfbea04b6dae95c440c1bde54d5739a36f3ccc381b1bb709a64c6b56b3a2fe592fcad6c533d553daf99b386c5f8f183aada4412925fd7b90e47134e23225a5b2b7b3c1b87d3c48eed1df1f4937be25fbeba251efcfad658ba647f1c3c909ce80900008023391c5037775d37b42c1dc20ec7c31123ba1fae3a7e7c125e8f1c4e232276edecec354dfe266d2aa5c36944c4b9f34697efa7cd9839eca8c36944c419d393e3468f1c4ed3653bb677c4cf7eb22b1eb87f6b2c7eb6f1f05f0000000e2b07d48307bbbfeee911335a8dda40994ca733e3ce9ded557fd38fa9174e23a26eef69625cb92ebdfc7a6adb9c3d77580c1d5ea859935ae9b2c36b7be850319e79726f7cfba1ed7a530100008ea0e22cbef543606d384dd77727ddb6369cd66b533dd560bdd20faba7eebaa6cb52cfafc2dbae6e89a6410d965fb72c3dafcea9cd6d1df1fd877754d500000050adea3233470c5ce9ea6ea51b370ea78307a756a34bf7e1343dff9e483f265942babcd3b8f1cdf1f66bc7c6d0aab30227d28fa91f4e9390bc795347bcfcd281aa160000001c564e868307a74358bd709ac4b97438ab76e0403155d2389c46448c2b1fb37ad8b186d30335436ad38fe93e9c26c68d6f8adffcedf171eebce1317458f272a51f937e45baa6523db82ffe2a7d122800000012e5803a766c7252a0a80d5c15a1301711dbb676df13b8764de58981ba0fa7111183bac2f1a8519d275fea6938ad0dc2876d6e3b5831d52850a6cb1bbbe88d23e2377f7b7cbce5ad6362c6cc215d97b189dad7aa41388d88d8b1bdf1fa0200000c74e5803a6ec2d0ae7bdd87d3888843874ab172c5aeca56555e5979f89aaaa94c999e88e6e642f96447234735f7389c4644ac5ad9f80cb92fbfb4a7eb5e3a28f63e9c569a317370bce5ada3e2bd1f181797be79548c1953d9f3dc389c2675ebd6a6aff30a0000404444fe0b7fb3242222a64c19dea3709adc7bfa175bcb2595dada0ec48ae5bb0fcfab768655d313271d1ededbf0ccbbb5338a885cfcf2a91d757b5137b71dea0aafb58f493f9ba4bcb7060dcec5d97387c46fbcb735a6cf1c72781edd84d37a3500000074aa3806351f53a70d3f5c53110a0f07abc3f7b66f3f100ffdebea686b3b3cdc77c90b3be3dbffb6f67010ac4a64e978d6397dd69c91e592c183f3316c7853459beaf54815c6bebdc578e4bb6db1b9ed70afe4d2257be2bbdfda54f731e967535d5eed6bffd8168b9fdd13bb76555e7ea7be33667485ec1e84d371e352cf0f0000808888c8bdfe75ffadf49fff706e4444ac59bd27bef3cdd555a1f070e44a87af64bab6bc3653d6b689881836bc297eeb3f4eadaa59f4e32df1d28b5d43846b6754bb5edd84c2cae9f4b3a92acf45dc78d3a4aa9afbeedd586e337a4c534c3aad39264d1e14e3c637c7c89187cf3afccaca83f1ecd37b62c78eda9edcf4ba3637e7e203bfdb52d5020000804ef9cad03665eaf0983069684db0aa17ec1a952781afb2acdae1e9375dd65a551311f1fa0b4677dea99d51ed7af551386dacb372c7f6f658ba645f3cf6839df1af5fdd12ff706f5bd76d733cf6839d3d0aa711b9387d6a328419000080b47c3a9f2d78dbe4686eae1cf69a6e914cd796d706beda368999b386c7cc332b8614771939b22966ce1ad6f0b1e5d213144e2ba7ab4bbaa6ba598fc3359df7669d5d7b391d0000003a1d1eabda65d4a8e6b8fa9a295d53e9f0954ca7cbbb4aaa8ad36d0e4f8f691914f32f1f57555be9a24b5a2a2ee312b581af9b5058399d8e8955e5ddae6bdab187d3b3e60c8ec9a73bfe140000a0919a801a1171fad461f11b374c8fe6e6caea2472d586b25ce48e10f80e4f4f993634defd1ba7c5e0c175171dd1d58b7af99563bba65281af9b5058393d676efd5ed85ce79faab2ee1d7b389d3e7350bce9cdc3caa5000000d4ca37ca67e3c70f8ef7bcef8c9830b1e2122a751af7349c3637e7e3f5e78f89b7bf7352b7e1343163e6b0987f456bf570e36e4261e5f4fccb47c7f419e9407872c2e9597306c7150b6a873203000050adea244969a34635c775ef9916ef7cf7e95d41b55a4fc26973733ee69c332adef3bed3e38d6feadd196ce7cc1d11ef7cf7c4183f7150b7a13031664c73bcfd9d63e3ecb9e9409804cb3a6511317a4cedd0dba1c30bc7144ea7cf1c14eff9cdd17a4e0100007a28b770e1174ae9c24676ee3a146b5fdb17ebd7ed8d5dbbda63fbb68371e850f2f0ce783666cca01834281793260f8d71e307d73d11d2d1d8dc762896beb427b66e39186d9b0e9697376c5821269d3638ce98313466cc3c1ca29f7f76773cfd8b5d87c36383701a113179cae0b8fa1d63aaca222276ef2ac6e6b643b165737b6cddd211070f1563efee52ecdd5b79d6de5c0c1b968be1230ad1da5a88d6714d317dc6a01834b85e90050000a0915e05d4fee2c081523cf8405becdbd31924bb0ba711b9b8f0e2e171def97d13a4010000383a473e18f42479ee97bb62ed9a03e9e21e79e227db7b1c4e2322a69f593b7c19000080132bb301f5e0c1623cfc9db678f83b9b6373dba174755dbb7675c4b7beb13956ade80cb63d09a7a3c734c5c89185541d000000275a66036a62ed9afdf16f0f6e8c7ffde78df1e4cf77c6ba54afeaae5d1db16ae5fef8d10fb6c503f76f8ab64ded113d0ca71111e79ceb24460000005990d963509ffcf9ce58fcdcceaea9da80d975eaa39af2e845381d3fa139aebdae776716060000e0f8c87c0f6abd80d917e1b4b93917572c185d550b0000c0c993f1805a1b30fb229c46445c76c5a8183932e34f1f00006000c96e422b9522a27af471ae3c9d1e955c4a85d3ceb27ad3cdcdb9b8f4cd2363c6ccc1a97a0000004ea6ec06d488aa5ecfea9ed3ea349aab4da7356d22723174783eaeb9b625ce9e3b3455070000c0c996e180da77e1b4b9391fe7be7e58fcc67f688d71e39baaea000000c886dcdffdedbde9b1b000000070c2e5feee6fef11503945253de936710000e80f323cc417000080814440050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500e885871ffb59fcdb233f8e8387dad35547b4f8a515f1c0b71f8d57d76c48571d17cfbeb82cbefead1fc4aad5ebd35599b6ffc0c1f8e14f9f8a07befd683cf0ed4763c7ae3de926f453c7f2f96160105001807eaf582ac583dffd517cfd5b3f88b62ddbd3d5f423c552291e5df4546cd9b63366cd981a33a64e4e37014e61b9bffbdb7b4ae9423835e4bafedac4014e75cb56ad8ee75e5c1623860d8df1635be2c2d7cf4937e9956d3b76c553cf2d8989e35be3f57367a5abfbdc4f9f7a3ef6ecdd17575d7149baea983cfbe2b258b6f2b5b868de393163ea69e9ea4c5abba12d7efad4f33177f6f438f7ec33d3d57dee44bfd740f7f4a00200fddedaf59b62e2b8d6183fb6255e5b7becc367b7efdc1ddb77ee8a62e9c4fcc8b976435b1c6aef48170f48c9d0cfe1c386a5ab8e8b13fd5e03dd135001807e6df79e7dd1b6757b4c993c31a69d3e29da3b3a62f5ba4de96600f40386f8720a33c4176020f8d5d215f1d2f257e33deffcb5c8e772f1adefff24460c1f1a575e7661ba69d9ba8d9b63f19265b16bcfbe28954ad15428c48c6993e3fcd79d155fffd60fd2cd2322e26d97bf315a468f8cef3cfad3d8b3775fbcf75d6f8db62ddbe3474f3c1da74f1a1f975df4faf443ca436caf78d30531715c6bcd90dbc77ffe6c6c68db927e58cc9e392dd6acdd18fb0f1e2c3faf4ac552291efade63317cd890b8fa2d6faaaaab945e5ea5e5afac89a52b5e8dbdfbf64744447373534c3d6d625c70ded935cb8b88d8b17377fcec99c5b173f7de888818317c685c3cef75b164d9aad8d0b625defbaeb796dbee3f70309e59fc526c6cdb1aed1d1d51c8e763e488e171d5156fac9863b56d3b76c5bf3ffe8b74710c1f3634deb9e0b288aee7fde2cb2b63f92b6be2d0a1f6c8e57231b66554bce90de7c6d02143aa1e57f73d3ee3f438ff9cd9e536477aafbffead1fc4a4f163e3f24bce4f37a95bf79d477f1a11116fffb54be3674f2f8eb51bda62f2c47131ffe27911bd5cff9796bf1a4b57be1a070f1e8a8888614387c41bcf7f5d8c1f3ba6aa5d3d1d1dc578eaf925b17ed3e638d4d5233d6ce890b8f2b20b63f8d0c3cba9f71a4d1cdf1a6f386f4e0c193ca8628e879fef45f3e6c44f7ef17c6cdfb92b72b95c4c9d3c312e3eff9c888878f2d91763edfa4dd1512cc690c183e2e279e7c4a40963abe653f9f9a92c8baed7ad721ecdcd4d71de9c5971e619a757cca1536fb6c7467aba9d367a3dcf9b332ba69d3eb1aa6da2a79faf55abd7c753cfbd1817cd3b27860e1e14bf7c6169ecdeb3afbc6d5c7ae1eb6bde8b535de15def7af79fa50be1d450fbe50ac0a9e717bf7c31c6b68c8ee9533a03d8ae3d7b63ddc6cd316bc6d428146a078b3df1f4e27861e9cac8e572317bc6b49876fac428e40b71a8bd3da64e9e1843060f8a418306c58e9dbb63c2b89638fbcc33e2b489e3625c6b4b140af958b66a751c3ad41eaf3b6b660c1f36245e5db32176ecdc1d67cf3a2372a960f7d4b34ba2b9a929de70ded91111b1a16d6b6cddb623264f1a1f2da347c6e04183625cebe858bf694b0c1ed41cf3ce991da74d1c1793c68f8d42533edab66c8fe1c38646cbe89155f35db3be2d5e5bb721e6ce9e11635b4657d5554a2f2ff1a39f3e1d2b5e5d1b830737c7d9b3a6c7c4f1adb177efbed8d0b625d6acdb1833a74fa97a2eab56af8fc77ff16cb4b777c4f4a99363e6b4c9b167cfbe58b2fc9528954ae5d723ba86e87ef7873f8d5dbbf7c6b429a7c5cc69932397cbc5e6addbe39cb36694e79956281462f8b021e5d7fe8c29a7c599679c1ea74d1c17a3478e8888889ffce2b97875cd8618d73226ce3e735a0c193c38366eda122b5f5b17d3a74e8ea6a6424457d87dec8967a2a9508833a74f8d69a74f8c5dbbf7c4fa8d9ba3a3a31813c7b746441cf1bd7ef1e5553162f8b03863caa4aa758d88ba75cb56ad8e88881dbbf6c4ea751b23ba0276d2a6a7ebbfe8c9e762c5ab6ba265d4c898337b7a8c18313cb6efd8192d6346d56c0b695bb7ed8cef3ffef3d8be6357793963468f8a7dfb0ec4c4f1ad3174c8e0888878faf997e2f925cbaa3e07070e1c8c8d9bb7c6aad5d5eb135dcf77c8e041b164f92b31b665744c9b322976efde1b9bb76e8f7dfb0fc4aa57d7c6b6ed3be3ec59d363f4a811d1b6655bbcb66e634c3b7d520c1ad45c9e4fe5e7a7b22c226263dbd6d8bd676fcc9a392d468f1a115bb7ed88751bdb62cca891316ac4f072fbde6c8f8df4743bddbd675f7cef474f54bd9ec9fbf1eada0d71a8bd23268daf0ee1bdf97c6ddfb93bd66d6c8ba1c306c7af5e5a11a74d1c1f33a74d8ebd7bf7c5b61dbb62d3e6ad71e61953aae67faa1350398509a800a7bab62ddb63f92bab63ceec19e51df7e6a6a67865f5bac8e77331615c671049bcbcf2b558b66a754c1a3f36aebae2929830ae255ac78c8a29a74d88a9933b7b425ac78c8a8387da63ddc6b6983c69429c337b46b48e19550ebbe91dec03070fc6a6cddb62f4c811317ae4e19de864dd66cf9c5a5e8f74601c317c68b48e19d5b5f33f382eb9e075d13a66540c1d3238860d1d1acb5f591dc562b126203dffe2b2d8b36f7fccbf785e4d28ae945e5e44c48bcb56c52b6bd6c7ec99d3e2f2379e1fe35ac7c4b8d63171e6f429512a751e0f7be0c0c1983c715c4457afdf8f7ff64c140af978c782cb62dae913a375cca898316d720c1d3a245e5dd379099be4f558f1ea9a58b771735c70eed971eed933a375cca8983a7962cc98765a34373555ac5db542215ff5dacf9e312d664e3bbd1c4e5f5cb62a56bdb62e7eedb28b62eeece9d13a66544c9e382e268e1b1bcb5f59137bf7ed2fbf87fb0f1c8ce1c386c6a5179d577e8f679e31255e796d5d6cdeba3de6ce9e1ed183f7ba5e084dd4ab5bb66a75944aa5d8b96b775c79e94571d1ebe794eb7bbafe070fb5c753cf2d8909e35ae2cacb2e8cd631a362d2f8b1317be6b41836647055684c2b964af1e84f9e8a8387da63c16517c59caee54c18d712679e717a399caeddd016cf2f595ef33998316d728c1a39225e5bb321b66ddf19d32bcea0fce2cbab62effe0331ef9cb3e2bc3967766e3333a6965fd38e8e62bcf36df3637ceb9898347e6c3435156243db96c8e57355012efdf949caf6ecdd1723860f8b05f32f8a715df3686d191dafaed910fbf71f28af4b6fb7c7467aba9d3ef6b36762dffe0355af67f27eacdfb839d66d688b09635b63f8b0ce9ee9de7ebe9280ba7dc7aef8b54b2f8c33a79f1ead6346c599d3a7c4a6b6adb175c7aeaaf90f04b53f2b0200f413cb56bd164d85425548183f764c0c1f3634d66d68ab6a1b5dc3ee9a0a8598ffc6ce21977d61fa94ce1de7d5ebaa4fce949cac29a9efad11c387c6f8d631b171f3d6aa13f81c3cd41e1b376f8dc913c7d51d8a7b242b5f591b43070fae1aea9a38f7ec993174f0e058bbe1f031bc2bba86a3beeeac9935430d674c3d2d860f1b5a559648864226d243587b6be52b6b63d2f8b131aeb5bac7b8b565548c193522b66edf592e6b193d32e6cc3aa3aa5d3e978bd1a346447bc7f13d19d5de7dfbe38273e744eb98ea9ecedeac7f44447beaa459f95caee6f54f7b75cd86d877e040cc997546b4b68c4a57972d5bf95ae472b9b8e40de7a6ab62ea6913627ceb9868dbbabde65aa5830735570db7cde77231b16b08ef59674eabda1e9340b9ab17d7b04dafcfc471ad31785073ece91a261bc7b03d36d2dd76dab6657b6cdfb93b664c9d5cf37ae673b938ff75674544c42b5da1388ee2f3953863ca6935cb38fdb4091111b17377cf5fc35381800a00f44bc5522936b66d8d89e35b6b82dae449e363c7ae3d55d7443d78a83df6ecdd1713c6b5d4b43f1623860f8d712da363635b75905cbb61538c6f1d132386f76e87b9d2e9a74d8852a914afae391c7e5f5db33e4aa552cc9e31adaa6d4fecd9b73ff61d3810635321a952cb989171e0e0a17228d8be737744444d6f7462e4f0eab3ed4e3b7d52343737c5af96ae889ffff285d8bd675f55fdd148d67b43db96f8fab77e5073dbbe7377f958bf444747315e5db321163df95c3cfca327e21b0f3f563ede77db8e5d556dfbdad4c99dc122d19bf51fd4dc1493c68f8daddb77c6238ffd2c36b66dad9a5777366feddcdea74eaeedf1adb46dc7ae183d72780c6aaedfa3ddda356cbc6dcbb6aaf2d1a33a7bb32b3577cd635c4bf5b1b18de6ddc8b0a143ea3ea6a9a9a9eabdededf6d8484fb6d3b6ad9dcf3f7d1c6d62fcd83191cbe562fb8ece1f178ee6f395681d53fb83427373e7d0e85d7b3a8fb31d28045400a05f5af1ca9a68efe888b51bda6a76f897ad7c2d22d5b3b1676fe70ee8f01eeec0f6c694c9133bd7657d67afedc6cd5be3c0c143e51e90a375e6f429d15428c4ababd795cbd6acdb1843070feed1c972d29213ee0cad38514e5af2fa246df7ef3f101151357cb93b43060f8a6bde72498c6d1915afaddd10dffde14fe391c77e764cbd40c9ba4c18d7126f38efec86b7c4ea759be2c1effd287ef1ec0bb17de7ee18317c58cc9a3eb5c7cfe158d4ebc1ebedfacf7fe3bc983d735aecdeb32f7efcf35fc6bf3df2e358f1eada8a39d6d7d3f7aabda323860cee1cee5bcfc8aee33dd33da8f95ce3e890cb1fdb8f3edd0d55afd4d3e778243dd94e93e73fac9bcfcbb0a143ca97883a9acf57229f6ffcda0e345e0900a05f5abb7e5334150a3179e2b8bab7e6e6a658b36e63b95733d901dc97eab9e80b674c392d72b95c7998efca57d7769da0e7d84e6e92cfe562d284b1b179db8e3878a83d0e1e6a8fcddb76c4f469d567e4eda99ebc06495d3a68a5c34a77860e1912bf76d945f1aeb7cd8f69a74f8a9dbbf7c6238ffdbc6e2f554f24ebdd5428c499674c69788bae9ef5a79e7b31860d1d12ef79c7afc5b56f9d1ff32f9ed739bcf21887191faddeac7f24c347cf991dbff18e2be3bc39b32222e299c52fc58bcb5695dbd493ef0a89e9deb9b45c2e17fb0f7406bd7af6edef7cfcb0a18d43ecc9d69bedb191236da7c9488b74ef7ca503070ec6d0aea1c6c7f2f9e230011500e877926b9f4e1cdf1af32f9e57f7367deae468efe8280f8f1d3d727834150ab165eb8ef4ec6af47608f0a0e6a69838aeb53ccc77c3a62d3165f2c41ecfa7bbdea359d3a7760df35d1fcb5fe93cdbe95933ab8fafeca99ebc065bb6ee88a1830797875b26c33aeb0d352d964ae561a5f50c1d32242eb9e07571c1b96747a9548a95af1db917b09ef27a6f6bbcde891d3b77477b47474c9e34bee62ccef5425977ef5153a150ee79afd4db21c2bd59ff4af95c2ee6cc3a23ae7ecb9ba2a95088d72a867ad7d3d2354cb4def1d795468f1c1e3b76ed6918f236b56d8d5c2e172da36b879d9e6cc7b23d36d2683b4dce90bd6153eda5a0a2eb18d5f68e8e18d57522afa3f97c514b400500fa9d57d6740e79edee58bb595d3d5295c363a79d3e29f61d3810cfbcb0b4a265ad515dc307d32750e94e12889f59bc34da3b3aca97bde989614387447b7bfd658d1f3ba6f3c42aeb37c5daf59dc7b51ecbceed8c334e8f7d070ec4b32f2e4b57c5af96ae8c7d070ec4cce9874f8433735ae7fd1796aea83ac63622e2f925cb6b4e3a94f4be554a8ec3edee0cb4473269c2d83870f050ddf55ef1eadad8913a19cfde54b05cb57a7df9f8c54addbdd763468d885d7bf6c6d66dd527307a7e49ed3a1c494fd7ffe0a1f6e8e82856d50f193c280a857c4de04e9b357d6ae472b978e1e59575df87c4ac19d3a2542ac5cf9ff955ba2a56afdf146d5bb7c7e993c61fd37676bcf4767b6ca4deeb93de4e4f9f343e860f1b1aab56afabd9068aa5523cfbc2cb91cbe5e2ec330fff60d4dbcf17b55c66865358e35f4401e8df7ef1cb17a3a3588c4bdef0ba86bd8f830635c7daf59b62eb8e5d317bc6b42814f23169c2d858bb61536cd8b8255e5bbb210e1c3c14bbf6ec89652b57c7ea751bcb9729193c78502c5bf95a6cdbb12b8aa552ac5eb731860e191c43870cae7b998ce8ea3d7979c56bb16dc7ce183d7278bc7e6ee7d0cc4af52efb125d27a3d9b663576cdfb12bf6ee3f106d5b77c4f8d6c3c7981e6c3f146b37b4c5defd07e2f57367f7f8f8bb7acb9b30ae35d66ed814eb376e8ed7d66e888e6231366fdb11bffcd5cbb166fdc698347e6c5cf4fab9e5790c1ad41c87da3b62fda6cdb1f2d53571a8bd23b6eed819cf2c7e29b66cdb11635b46c79ebdfbcbafc70b2faf8a279e5adc79c298fdfbe3b5751be3572fad8842211f17cf3be78821757bd76537d2afd1f8b12df1ea9af5b169f3b658bb7e531ceae8880d6d5be3e9c54be2d5351b3a2f33d2f51ead5ebb31366fdb115bb6ee88f68e8e7869f92bb17cd5ea183562581c38782866565c72a5bbf73a9fcfc7da0d6d9ddbcaa1f6d8be7377fce2972fc490c1836377d76551d297998988983d636ab92cd1d3f5dfb97b4f7ce7d19fc6c6b62d512c1563d3966df1f4f34b62efbe0371ee9c59dd5e07b550c8c7d0a14362edfa4db1e29535b16dc7ae3878e850acdbb8399e7b7159b4765dc2a865f4c8d8be6357acdfb42556beba360eb577c4ae3d7be2b9175e8e65ab56c7c8e1c3e22d97bea1eab355efb23a51b18d55bea6897a8fa9f7f9e9ee754bb7efedf6d8484fb7d3b16346c7ab6bd6c7cad59d97d369efe888d7d66d8ca79e7b3176efdd1717cd3b27268e6b29cfb7b79faf46db7b65ddd896d135d75a3d9575ff330c0040c6b46dd91efb0e1c8889e36acfde9b36a52b70bebcf2d588ae2193575d7149cc9d3d3d0e1c3c144b96ad8a67162f8d0d9bb7c4b88a4098cfe5e2d20bcf8bc1839a63c9b255f1dada0d316850e71935bb3365f2c428954a3179d2f87455b7de70de9c18d73a3ad66ddc1cbf7a6945cdf39a31edf468efe888a642a1e60cb1bd55f91a1c3cd41e8b972c8fc54b96c7818307e38273cf8ecb2f393ffd9038ff9cd971c1b96747b1548a25cb56c58b4b57c690c183e3eab7bca9e6c439a74d181bc3860e8e5756af8b67162f8d55afae8dd6d1a3e29ab75c52735990de183278505cfbd637c7e993c6c79ebdfb63f192e5f1d2f257229fcbc5fc8be755eddc5f79d98531ae75746cdab22d9e59bc3476edde136fbbe28d758f41edeebd3e63caa478c37973225fc8c7b295afc58b4b57c698d1238fea32453d5dffe1c386c684b12db17de7ee7866f1d2f8d54b2b222262fec5f362c6d423f7cacf987a5a5c75f91b63e488e1b16ee3e67866f1d2787945e7f65f79dce3fc8be7c505e79e1df97cbefc39d8b17b4fe790e22bdf54b30d66496fb6c7467aba9db6b68c8a772cb834268c6d892ddb76c4338b97c6f255ab3b9777c52535efc9d17cbea896fbbbbfbda7ba6f1c4e19c97fac367100fab7dd7bf6c5777ff8d39839edf4b8f0f573d2d527d5f77fdc795299ebdf7165ba0a4e38db63ffd7b39f18000038699676f580cd3c235bc7ae1d3cd41e3b76ed893175ae8f09279aedf1d420a0020064d8fe0307e3b5b51b625ccbe89a63d44ea662d749764aa5524cef3a710d9c2cb6c7538721be9cc20cf105a0ff7a66f1d218366c48ac58b53af61d38186f7df3c5272da07ee3e1c7a265f4c818db3226860e1914db76ec8e751b36c581838762f2c47131ffe2de1f930947cbf6786a1350398509a800f45f8b9e7c2ed66ddc1c43870c8e37bde1bc18d7da794dc693e1a9e75f8a751b37c581038722baaedb3a72f8d038fbcce931bd0727ee81be647b3cb509a89cc204540000e84f1c830a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a89ce24ae902000020a304544e5139e1140000fa1901955390700a0000fd9180ca294638050080fe4a40e514239c0200407f25a00200009009b9bffbdb7b753901000070d2e53efde9db05540000004ebadc9ffff95f08a80000009c74b9fff5bf3e23a002000070d2e56ebffd0e0115000080932ef7177f71a7800a0000c04997fb8c800a00004006e4fef2337f25a002000070d2e5fef22f3f2ba002000070d2e5eeb8e32e0115000080932e77e79d022a000000275feecebffa6b0115000080932ef7d9cf7e5e40050000e0a4cba70b000000e0641050010000c884dce73e77b721be0000009c747a50010000c884dc5d772dd4830a0000c04997bbebaebf115001000038e9727ffdd7022a000000279f6350010000c884dc5f7ffe6ff5a002000070d2e53e2fa0020000900186f80200009009b9bbeffe3b3da80000009c747a50010000c80401150000804c1050010000c80401150000804cc82d5cf8052749020000e0a4d3830a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a800000064426ee1c22f94d2850069a592ff2a00e064cbe572e92238a5e8418501ae542af5e806009c7ce9efe74637e8af045418807c8101c0a9cd773dfd95800a03842f2a001898ec03d09f08a8708af385040024ec1790754e9204a798e3f9a5733ce70d0074ef789e20e978ce1b7a430f2a9c42fa2240560e034adf00809327fdbddc97dfd17d310fe80b022a9c228ee68b25fde57634f300004ebef4f7f9d17ca71fcd63a0af19e20bfd5c6fbf4c8e777b00e0f8ebed90dce3dd1efa8a1e54e8a77af3ebe8917e4d4dffe27aa4f600c0c995febe3ed277f791ead37ad316fa921e54e8877af385d1a86d6fcb0180ec6ad4e3d9dbf27a7ad3168e95800afd504f4264bd36f5caa29bf244a9544c1745f78f0000fa42bd6898cb753f08b251a0ac575eaf2cad276da0af08a8d0cf1c394cd6d6a7cbd2d39d659d21b4b626a254ac2dad370f00a06fd50b87b97c9db2e46f9df09a9e477aba5159a523d5435f1150a19f385220ac575f5996ae4f07d22484a6db55eaae0e0038beba0b89495d125e1b05d6ca79d49b5fbdb24a47aa876325a0423f70a46098ae3f5230ad0ca5b5f5f597d5a81c0038711a05c474792e97ab0aabbd09aae9e9b423d5c3b11050a11fe82e1ca6eb1a85d32498d6eb296d74bfbb3200e0e4a817101b05ceca9ed57450add7aed174a5eeeae05809a89071dd85c3745d32dd2898d6afaf7f3f3d9dae03004ebc9e86ca7af7735dbdaa8d826a77f34bebae0e8e85800a19d65d286c141e0f87d0c6c1b4dedfee9655a9fb76ddd50100dd6b1cfa7a1a0873b95c4de0acf7371d54eb05daf4fdb4eeeae06809a890618dc260babc36705687d3dafa52140a85ae2fb17ce4f3f948be630ecfbbfa310040761c0e87d5e1b3548a28168b9dfb02a552747474d40fa8dd84d474f04c4f271a95c3b1105021a3ba0b869575b5e1b3339c163bbaced29b0aa8854253140a85d8b963472c5ff66a6cdbb13df6eddd17c53a97920100fa977c3e1743870d8d96d16362d6ec3362d4e8d1d1d1d1111d1ded35013522225fc81f31a4761744bbab83a321a04206f575384d6e83060d8a9d3b76c6f3cf2d896ddb7794e703009c9a5ac68c8ed7cf9b1ba3468f8a83070f1eee3d1552c9a8da2bf90227555f84d374308d8818346870bcf8e2cbf1d8633f134e016080d8b67d473cf6d8cfe2c5175f8e41830647d4f901bbd8d1756850728df4d43e46fa7e5a7775d05b022af413dd7d49a47b4e9336a552298ac56234370f8a5f3ebd38562c7fa5ea7100c0c0b062f92bf1cba7174773f3a0ae6354ab4f90980ea989eef63fe0781050a11f2bffc2d960586f67386d8e175f5c1a6bd6ae4b3d1a001848d6ac5d172fbeb8349a9b9bab426ab23f9184d4104639890454e807eafd7a59fe322915a3d47582a37438cde70bb173c74e3da7004044574feace1d3b239f2fd40da9a562298a4739d417fa82800a1952ef3ffdeeca4a5de1b4f2cba5f24ba65028c4af162f4d3d1a0018c87eb57869140a8588d48fdbe55bb154733c6aa59e96c1d11050a11f49ffe75f6af4c5522a452e978b1ddbb73b2112005065dbf61db163fbf6c8e57235fb0fe55bea31e97d10385e0454c8889efec79fb44b7a4fd392fa5c2e62d5ca35e96a008058b5724d245787a9b70f72a45ed47a7ada0eba23a0420634fa0fbdb2bcfa7e72a6bdea5f3b8bc5e48ba41811b9d8b6637bf931000089ce7d845c3984a68f472d75f5a2569ed5b7d17e49a546e5d053022af453e9ded3e40b2109aaa528c5fe7dfbabda00004444ecdfb73f4ad1b5cf50b10f5129bdaf012782800a2759facba09ef41747bdded3c36d8a512c759ee0a0e88b0500a8a358ecda5728550fe5adb975b54fef8b74a7276da0110115fa997ac79ea6bf348a1dc5f2705f00807a8ac562d575d42bff262a8f4585134140857e26e93d2d4f57f49e4674fe129a9403003452fe61bb54eadac348ef57744d97a7e0f8135021a3d201b3de74a3b2743900403d8df61d1a9575370d7d4140858c4bffe7df78786fd7d9f78af5bf6800002a95c36979dfa1fe65651aed7bc0f120a0423f923e06a4328896ba86e094bf6c7c790000dda8dc6748f6212acbabdb3a0e95134340850c4a7f2954ea2e805696f9220100bad3e81aa795658df63912ddd5c1d11050a11f28ffa299aee852ae37bc1700e8857208ed1ac6db681f22296d540f7d45408553427528155201802349ef2f74deb7ffc0c925a0423f516fc86eb9e73475fc2900404f957b5153fb1669f5f645a0af09a89061f5be1c12e9ba234d0300544aef2b1c69ba527775702c0454e8478e747c48c22f9c00404f1c699fa1dca39abad40c1c2f022af4639541b5a7e11500a052bd106a7f82934540857eae2aa4fa3201008e82fd09b24240857ea6de97464fcb4e865c2e17e79c3327def6b65f8bf7bfff8678f7af5f1b975d7649b4b48c493705004ea07afb0a3d2d83e325b770e1176c717012d5fb4fbf3cd4a6e26fa9548c62b114c562b16bfaf0fd62b1233a3a8a512c16a3a3a3233a3adaa3b9b9391efff193a9399f3863c68c8ef7bdef3db1e0ad57d60da3a552299e79e6d9f8d637bf1b3ffde9cfd3d500c07176f91517c7a14387a250688a42a110f97c3e0a857ce4f385c8e57291cfe72397cb95efe7f3b9c8e53acba2eb47e8cabf95ea95414fe841857ea236c626ead7d42f3dfe0a8542fca7fff43bf1e5affc9ff80f37fc46dd701a5d5f5c175e78417ce2cffe9ff8fcdd77c6cc99d3d34d0080e3a8f1be42fd9afaa5d0b70454380564e50b63dcb8b1f1b9bb3e13efffc07ba3b9b939befdedefc68f7fbc282222dada36c71fff8fff19f7ffd33f4744447b7b47dcf5b9bf8975eb36c45967cd8acfdf7d675c75f582d41c018013292bfb140c5c022a645cbd21c059d4dcdc1c9ffcd49fc65967cd8ad75e5d1d7ff09fff28bef1e0b7e2b2cbde14edededf1677ff6e7f1ecb3cfc77df7fd632c5af44434351562cedcb3e2a6dfffc3f8eafd5f8fa6a6a6b8e5968fc61bde707e7ad675ddbdf0ce78f89187e2a69b6f4c579d3037dd7c633cfcc84371f7c23bcb6559582f00389efacbbe09fd93800afd4896bf10fecb1fde14b366cd8cd5abd7c67fffef7f12afbcf25adcf89f7e279a9a0af1e52fdd1fcb97ad2cb7fdab3b3f1f3b77ee8a6bae795b4c3e7d72fcfddf7f25eeb9e7ef2322e24fffe71f476b6b4bc59c0180932dcbfb209c5a045438459ccc2f8eb973cf8e6bafbd260e1e3c18ffff5b6f8beddb77c4a4d326c66597bd29d6ae59170f3cf08daaf6bb77ef89bfffe2972322e2baebae8d88887f79e01bf1bdeffd7b0c1f3e2c3ef47b1fac6a4ff7ce3a6b767cfacf6f8b87feed6be92a00e8b193b92f010901153866bffbbbbf1d11110f7de35bd1d6b6392222aebe6a41e472b9f8d6b7be17edededa94744fcfbbfff30f6eedd170b16bc259a9a9a2222e24bfff08fd1dede11575db520264f9e947e080d9c317d6a5c7cf1853164c89074150040bf22a0423f95955f39870d1b1ae75ff0fa686fef88af7ded5fcbe5975f3e3f4aa552fcf0878f55b54f1c3c78307efad39fc5b061c3e2c20b3b8f3bddb2656b7cef7b8f4444c41bdf7871ea1100c08994957d0d061601154e2127e38be4bcd79f1bb95c2e962c792976edda15111183070f8a69674c8d8d1bdb62dbb6ede98794bdf8c2d2888838ebac59e5b29fffeca9888838ff82d797cb7ae3da6bdf115ff9caff8def7eefc178f89187e29bdffa7a7ceeaebf88a953a7a49bc61f7ef8a6f8da3f7f291e7ee4a178f89187e2a17ffb5abcef37ff4344445c78e105f1b9bbfe221efab7af95ebbff295ff1b575c313f3d9b86fef8d68fc537bff5f578f89187e2817ff9c778ef7bdf936e121ffbd847e2c16fdc5f5ec683dfb83ffef0c33755b5193f615cfcf1ad1fab5997e83a29d32db77cb4dc36a9774664007ae364ec43403d022a704cc68d1d1711119b376f89d7cf3b2f5e3fefbcb8e22d6f8e88889d3b7796cbeadd9a07750eed3de77573cb65c552312222264f3ead62293d73d3cd37c61f7df40f62fc8471b171e3a658b2a43300cf9d3b27fefaf37f19e32774ae6b44c45d7ffd9771dd75ef8a316346c7faf51b62c992a5b17fff81183d7a6444445cfbae6b62f6ecd9b176cdba58b264696cd8b029c64f18171fbfe58faae6d3c895575e116f7ef3a5b162c5aad8bb776f8c1c39223ef8bb1f88b3ce9a5d6e73f7c23be39ab75f1583060d8e15cb57c66bafad8e214386c475d7bd2b3ef3979f2eb7fbe33ffe582c58f09628168bb164c9d258b17c65b4749d48ea9555afc6aa55af94db2e59b234962c591adbb7ed28970100f417b9850bbfe0e7123889eafd629994954aa5f2fd62a918c58e62b9ac584cee17a3a3588c8ef68e28168b512c16a3a3a33d9a9a9be3273f7e3235e7bef781df7a5fdc7863e731a87d69fffefd71ddafff66bab8ecee8577c6ecd9b3e281071e8c7befb92fce3a6b76dcf5d79f897c3e5f2e8baedec7cf7dee33316edcd878f4d1c7e22f6effabf8addffacdf8dd1b7f2b0e1e3c180b17de1bdffb6ee7b0e24ad75fffebf1d453cfc4ead56bca655ffbe72fc59831a3e31feefba7f8a77ffa5adc74f38d71c30dd7c7b265cbe3231ffe7844c57aeddab52bfecb7ff96fd1b669739c77deebe27ffdef3f8b418306c557bffa40fcfd17bf1c1ff9c8cdf1ee5fbf36f6efdf1f7ffa279f8ac58b5f888888b7bfe3eaf8e847ff4be4f3f9f8e427ff77fc74d1cfe2feafde17adad2df1d9cf2e2cafeb85175e104f3ffdcb8888b8eaea05e55ed46baebeaebcbe00d09d375f7171b41f3a14854253e4f3f9c8e7f351682a44219f8f5c2e1fb95c2ef2f9cebfb95c2ef2857ce4739dfd5b4959723fad5e19f4841e54e098ecd9bd27222236acdf18cf3fffab78fef95fc5cb2f2f8f88889d3b7795cbeadd1ab58b88d8bfff40c5528e6cfe9bdf14f97c3e366cd8500ea711116d9b36c7e38f2f8a888873ce393b2222de70e1bc8888f8c94f9ea81b4e23221e7cf0dfe28a2be6c7e7eefa4c7ced9fbf14dffcd6d763cc98d11111317cc4d074f31abffce5f3d1b6a9f384518b17bf101b366c8c8888a6a6424444cceeea497dfcf19f96c36944c4f7befb48b947f4b2cb2e89e8ea898e88b8f1c6df8edffffddf8df113c695c32900c0a94440855354bd9ed9e361dbf6ce634c9f7b7e71fcf75bfe24fefb2d7f129ffcb3ff151111ebd7af2f97d5bb7df94bf7477485b4a4ec8ebfbc2b2222b66edd56b194234b82dfae5dbbd355b162c5aa88881834687044440c19d2f977ebd6ad55ed2addbdf0cef8e0effe56cc987146ac5fbf211efdc18f62cf9ebde9660d6ddab4a96afac081eac05d2874fef7bb6347ed50dc24cc0e1bd61984effefc17e2d5575f8b969631f1def7bd27eebbef9ef8e35b3f967a1400f4ce89da5780de10508163b26c59672fe8dcb973ca655bb66c8dfdfbf7c79429b52726aa34a5ebc4456b56af2d97bdeedc732222cabdabbd3572e48874519c79e68c8888d8bdbb3abc8e1eddd9239a76fdf5bf1eb367cf8a3d7bf6c6effffe87e3bf7df47fc4673fbbb02664f6857aeb3069d2c48888d8b1bd33bc2e5efc42dc7cd37f8d8f7cf8e3f1e8a38f453e9f8b050bde1237dd7c63ea910000fd9b800a1c930deb37c69a356b63dab4293173e6f488ae5f649f7ffe57317cf8b07238ace7fcf3cf8b8888e79f5f5c2e4bce92fbe42f3acfe6db538ffd6851148bc59834695255701b3f615c5c7e79e73c972e5d1611112f759d3ce9f2cb2f8b0b2fbca0dc36316e7c6b44441c3a74a83c4cf7edefb8ba3cc4b72f54aec379e7bdae5cfef6775c1d33664c8f62b1184f3ed5398cf75def7a4744d78f017f71fb5fc5534f3d131111a79d567badd89e9cc0090020ab0454e098fdfbbfff282222fef0c33797cb7ef18bce10f56b0bae2897551a3366745c74d105d1d6b639962f5f19d175e29f4b2f7d636cdbb63d9e7cb2f3f13df5f2cbcbe2b1c77e12111137dc707ddcf70f5f88cfddf599f8e217ff36c68d1b1b9b36b5c53ffcc33f4644c4d7fef95f63d3a6b6183264487cfacf6f2bb7fdda3f7f296ebaf9c678f6978ba3582c769e10e94bf7c6e7eefa4c7cf8c337457b7b7b6aa947efeebbef29afc3ed7ff1ffc6dffccd67e3deff7377f904493ff9c913f1d3453f8b8888fffa477f505ec7bff99bcfc64517bd212222163fff6244443cfbecf3512c769efdf8f39fbf33eefd3f77bbcc0c00d02f09a8c031fb9707be111b366c8af3ce7b5db9b7ef473f7c2cdadbdbe31defb8a66ecfe3fbdef79e28140af1ddef7e3fa26b68ee1ffdd17f8988887beef9fba31a4e7bfbffbe33fefe8b5f8eb64d9be3b4d326c5dcb96747b1588c471f7d2c3ef6b15bcbbda16d9b36c7c73e766b2c5af4441c3c78b0dc362262e386b678f2c9a7e39ffef16bb17ffffe983469424c99727a7ce91fee8fdd5d2784ea2b1ffbd8adf1e8a38f457bfba13873d6cc98366d6a6cd9bc35fefe8b5f8e3ffff467caed962f5f1163c7b6c6dcb967c78c99d363cbe6adf17feefd8778f0c17f8be87a3efff48f5f8b83070f464bcb9898346962b41feabb300d0070a2b8cc0c9c64f54e50d0179799293435c5a2c77b374cf658bceedc73e28e3bfe3c72b95cfcc9fff3c978fae95fc67ffda33f8877bdeb1df1f0c3ff1e7f75e7e7cb6d67ce9c1e7ff3b79f8b43870ec57ffc9ddf8f3d7bf6c65fdef1e9983b774e3cfee345f1e98a7006001c1ff32fbf283adadb5d66864cd1830af489177ef562fcdddffedfc8e572f1a7fff38fe39defbc26befca5fb63c78e9d71cd356f8b5ffbb5cea1be43860c893ffdd33f8e5c2e17f7ddf78f317cc4f0f8dfb77f32e6ce9d13afbeba3aeeb8e3afd3b306006080285c7bedbbff2c5d08644f290ef7a64655cf6b6779a9d8f5b7ab57359fcfc7ead7d695db9f084b97be1cab56be1af3df7c69bcf9f24be38d6fbc28366cd81893264d8c8bdf7851340f6a8ef7bef7fa38ebecd9d1dede119b36b5c5c73ffe5f63d2a489f1e80f7e149fb8edcf8f6a682f00d07bd3ce981ca562e73e43b997349f8f7cd7fd9a5bbebad7540f2ac78321be70929d2a437c2b8d19333a7eebb7df17d75efbf6686a6a4a575759baf4e5f8fbbfff4afcf299e7d25500c07164882f5924a0c249762a06d4c4e8d1a3e2f2cbe7c79b2fbf344e9b3429c68d1f1b7bf6ec8d8d1b37c58b2f2e891f3efae378e9a597d30f03004e0001952c1250e1243b95032a00905d022a59e424490000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a9c30575dbd201e7ee4a1b8eaea05e9aa7eebee8577c6fd5fbd2f5d5cd6df9ff34d37df180f3ff2503cfcc84371d3cd37a6ab7b24790d8ef6f169c93a9d8cd7b4af9f4b6f3cfcc84371db276e4d17f789236dc7fdd16d9fb8f5843ea713bd3c805395800af499ca3053793b193bf33d713c76ca6ffbc4adf1f0230fa58bfba59b6ebe316eb8e1fab8e38ebbe29aabaf8b7befe9d96b752abd06fd5df25ea46f59fd4c924dc7f3c71180340115e8130f3ff250dc70c3f571cdd5d755dd162d7a22ddf4b8ebefbd9659316fde79b175ebb6f8fe238fa6abfa05dbc161959fc9071e78306eb8e17a818313a23ffc2072f7c23be3ee8577a68b81934440058ed9fd5fbd2f962d5b1ed75c7d5dba2a3ef5c9db7bdcf376a27de4c31f8f0fbcbf6f779c3ef5c9dbebbe0e0389d720dbeebda7f3f33a77ee9c7415d475cdd5d7c5a73e797bba18e0b81050816372db276e8dd6d696f8c8873f9eae0232eab9e716476b6b4bba18004ebadcc2855f28a50b8113a754aafd082665a552a97cbf582a46b1a3582e2b1693fbc5e82816a3a3bd238ac562148bc5e8e8688f4253532c7afca9d49cfbdefd5fbd2f962c79a947bfae5f75f582b8e5968fc61d77dc15d75d776dcc9e3dab5c97ee71bbed13b7c6fcf9975695dd71c75d55c34d1f7ee4a178e0810763debcf362f6ec59b16cd9f2183b766ccd8ef7a2454fd45dbfbb17de1963c78eadea45bdffabf7553dbed16313e97924eb9d3c9fee9ef3030f3c58d5bb7cdb276e8db973e7c417bff8a5b8e5968f46543ce723bd1e95cbf9d0873e18adad2db16cd98a983dfbcc9ae5449df5ac94ccabd2d6addbcacf317d7ce9b265cbab7ea048cf3b995f7a3dd2cba95c46a5f4f29221aae9eda152fa7d8c3aef657abee9fa7a1a3d97e478dd4af5d62fbd5e8d9ef3dd0befacd9566eb8e1fa1ead63a5f47b9148d637294f6fc789f46bd4683e95d2af4dd4994fba4dbde79b9e4723e97927af51f279fac0fb3b8f8d4fa4b7d7444fd6a1def3adfc8c26cb4b24f36cf4beddffd5fb62cb962d35eb536f3beb6ed98946f34bbfbff5febf68b48ed1f51a57d627c3611f7ae8db559fe1749bcad733eabcf6e9f72ebd7dd5fb3ffe231ffe788f965fa9d172eabda695f503c1fccb2f8a8ef6f628149a229fcf473e9f8f4253210af97ce472f9c8e57291cf77fecde572912fe4239febecdf4aca92fb69f5caa027f4a00247edaaab17446b6b4bac5fbf215dd5ad5b6ef9683cf7dce2f231715bb76eab3959d1dcb973caf5d75c7d5d2c5bb6bc263445442c587065795ec990dd3beeb82ba26be7ed9a5e0c4d4b76ee926526f3e90b1ffad007ab9ef3a2454fc40d375c5ff7d8ac0f7de883e576c9ce674f5f8f0f7de883f1c52f7ea9ebf5f8586cddba2de6cd3b2fdd2ce6cfbfb4e1f1c1df7fe4d1f232b66edd16d75c7d5d55007fe08107ab5ea3d9b367f5fa78c69b6ebeb1bc039ecc2bbade8344720ce9a2454f94db2441ed48badb0e92937955cef78e3bee8af9f32f3daae3d0ee5e7867d5c9a4aee97a7f6fb9e5a355efef4d37df184b96bc546e73cdd5d7456b6b4bcd32efffea7d3176ecd8aa763d79cebd911c5fdc48bdd77ed9b2e5353bfa0b165c59b59ec9765d79dc6f7a3e0f3cf060d53cd2cf37798feb7d362a25eb981c5e704d9dcf6c6b6b4b3cfcc84355f5f5b6d79eacc36d9fb8356eb8e1faaa6db6d167282a02da1d77dcd5f0ffa0254b5eaa09711111d75d776d6cddbaad1c4e7bba8df556e5ff178dd6b191d9b36755fd5ff5c0030fc6fcf99796d7e7231ffe785cd3f5b94e5eb3249cf674fb8a3affc7278eb4fce8c172eebde7be7259e576049c5c022a70c22d5af44455cfc4a38ffe285a5b5baa766ad33d390f3df4ed88ae1d8e4a5bb66ca9e9e5385aadad2df1dc738bcbd3df7fe4d15eefb435b264c94b55ebf9a94fde1ecb962d8f050baeac6ad7dada125ffce297aacaa217afc792252f55f5a83cfae88f62f6ec5955ed921db8279ef845b9aca73e953aa6f8fb8f3c1acb962d8f0913c657b53b92050bae8c65cb9657cdeb8b5ffc52b4b6b694d7efbaebae8d65cb9657bd07f7de735fb7a1a027162cb8b2a6a7e5fb8f3c1a0f3cf060cd6b7524575dbda01c422a5ff77aefefbdf7dc57b33d2d5af4448c1d3bb63c7dd3cd37466b6b4bcdfb9d0e5ec7e2b64fdc1ab367cfaabb9d25928054b9be4938a80c77e9f54cda4f9f3e2da262fbacdcd6eebde7beaa5ec1f4367f6fd731b2e9cf46da873ef4c1728f5aa2de67b6f2b54bb6d7cae36f7bb20e575dbd20e6cfbfb4a657f5539fbcbda6973c52e1b45e7d2259d774609e3d7b562c59f252442fb7b1de4aff7fd15b95efffbdf7dcd7f007b1b49e6e5f7184ffe38fb4fcde2c07c80e011538e1d2c1e895575e8ba8d8a94d243d5d0f3ff250b9b730dd66d3a6b6aae963b175ebb69ade9fbe927eced1b5eee961a8d1b5135d4f4f5e8f746f76b26377e9a56f2c97cd9b775e2c5bb6bce1727ae2feafde575e97d9b3675585ac23b9aaabe73d09d989647d4e3b6d5244d74e7ae50f0689f473ec8d64d9f5de8f7aafd5915c7ae91b1b9ee93839ce33bd3dddbdf0cef26b377ffea555db40f2dea4d59b7f6f24cb4b96794d45ef7c3db367cf8a471ffd51ba38b66edd56f36344d24b95dca2e23d4c9651afb73fbad9161b7d3612c9fb586ffba854efbd49cfbb27eb906c138d8252a5e4078074a06ca45e608e8af07a34db584f1dcb67a9de76ba65cb961efd5fd09bedabd1fff13d597e6f96036487800a1cb574a0e82bc90e6f728cdc357586ee258e65072bed03efbf3196750d9d7df8245df7afdeb0cbdebc1e49d8af94de016e14fc7a220957954355ebed28762709d5c9eb9c0e3751a767b8afa403fdb1eacd4eee6d15d7874d5ebb746f704f76ee8f46b2bc9e0c614c5efb1b6eb8bee6fd4987c687bb7e2ca91c7a9a764dd730fe641e954330c78e1d1bb367cfaa594efa78ebb4e47dacb7bdf7564fd661c284f1753f9b69adad2de5e1f3f502653de99099fe91a237db586ff5c5ebd75bbdd9bee218fe8fefed7280ec10508163920e3f7d2119ba576f67f7784b8e9b4a8e674a1f1fd8d77ab2d37bacafc7430f7dbbbc039c84839ef404a5dd74f38de59ea1f430cade48768a2b434de5add1b0c9bed0d73be48d7a77d2aeaa18229a3e814da52d5bb6a48b4eb8e4b5af3cd6b2f296acffdd0bef8cad5dc7281fe9fdfac0fb6f8c6b2a8e514d7efcd9b2654b79dbae776ba42fdfc79eac434fdfe7ad5bb795ffefe8e90f5cc9d0d4a49736fd03524f971d19d97e8ea4a7dbd7b13a51cb01fa9e800a1c9324fcf47467ec68f566d8655f488e75ecab1ead7aeb3f77ee9ca3dea1ac37bf46beffc8a3e51de0e4f8cbbe34bbce495eba93ec381ee9396c6d703c5bbdb29eea6ed947736ceefaf51b1a0eb14c4e44d45d784bffb8b369535bddd7f3584e8473341abdf64772a4f54c8e9b4c7a051b3ddf23e9ee7decad9eac4377ef73dabdf7dcd7eb90ba64c94b3177ee9cb8ed13b7c6d68a9323c511965d6f1babf77fd6919edf8976b4db576f9da8e5007d4b40058ec9f7bb4e2ed3a8b7f1ee85771e71a7356dcb962d553b5449ef534f35da797df89187eaae63225d772c01326dfefc4bab7630ef5e7867b4d6390eb39e637d3da26207b8b5c1f1973d91f45a55beaee9d7aca7162d7aa2e68c9b919a5f7282a7ca9dfca417b7271a6d07f5c2c355572f881bba2ee3d25da04c4b4ea673cb2d1fad7a7fd327224ae659b9b37c5bd735842b253dd3e9b35ad73b8bef91b6e76351efb58fd4fb931ca359f9bcd3eb79d5d50b6ae6317bf6ac72af60a3e77bd3cd37d66c1b698ddec7f4f28ea427ebd0ddfb5c2f38263f70a5d7af91279ef845b4b6b6c4dcb973ca27474a74b7ecca6d2c2a860b572ef3786d233d552f24f664fbea0b3d5d4e4f7ea4004e1c01153866f7769daa7fecd8b135c7facc9e3dabd7c3493ff2e18f571db3f6a10f7db0e131978d243b870ff7e258d2d9a9e3d0ea5d4ff068dd71c75d55c75cce9e3d2baee9c1d0c8e8a3d7e3539fbc3d5a5b5b6a7a5b7aa3f2c788645d9e7b6e71af8f418daef579a0eb521e95af79e5d0c6ca9ea8a47edebcf3e281d4654aba536f3bb8f79efbe28eaecbca24f34d2e79733443973ff2e18fc7a2ae4b7e24f39b5fe7444477745de22469135deb97764dd7e5672a5f9764a8e98952ef357af89187aa869b26bda195cfbbde7aa6e7913e8372f298ca360b165c79c4ff37eaade32db77cf4a87e80e9c93ad47b9fe7ce9dd3f0f3f4a94fde5edefed2e137edfb5d67176ef40352bd65d7dbc62a8371d2ee683fa37d2509890f57fca052efbd7b38b57df5859e2e27d91e937ae0e4ca2d5cf88552ba1038714aa5da8f6052562a95caf78ba562143b8ae5b26231b95f8c8e62313ada3ba2582c46b1588c8e8ef6283435c5a2c79f4acd994ac9ce525f85d0ac7bb8eba2f747daf1074ebc81f6ff11d930fff28ba2a3bd3d0a85a6c8e7f391cfe7a3d05488423e1fb95c3e72b95ce4f39d7f73b95ce40bf9c8e73afbb792b2e47e5abd32e8093da8c0803576ecd89a5fd24f5595bd8740b65cd575add3a33dbb36c0a944400506a49b6ebeb1e170ba53d1fcae4b5f00d973dd75d7d69c1c0960a012508101e5feafde170f775d53f48e3bee6a78fcd8a92239a62a7ddc1f70f2dddd755de1b163c7c607dedffd49a100060ac7a0c249e6185400e064700c2a59a407150000804c1050010000c80401150000804c1050010000c80401150000804c1050010000c8040115e028ddf6895be3e1471e4a17030070940454801e78f89187e2a69b6f4c170300d087045480a3f4a94fde1ed75c7d5dba180080a324a00200009009b9850bbf504a1702274ea954fb114cca4aa552f97eb1548c6247b15c562c26f78bd1512c46477b47148bc528168bd1d1d11e85a6a658f4f853a9391f3ff77ff5be686d6d294f2f5bb63c3ef2e18f97a76ffbc4ad317ffea5e5e988a8e97dbced13b7c6dcb973e203efbfb1ead8ce7af3ea49bbc4dd0bef8cd9b36795a71f78e0c1b8f79efbaada44d730de4a8b163d1113268caf7a6c542c27794ee9e771d3cd37c60d375c5f5576c71d77c5f71f79b43cdddbe700007d6dfee51745477b7b140a4d91cfe7239fcf47a1a910857c3e72b97ce472b9c8e73bffe672b9c817f291cf75f66f2565c9fdb47a65d0137a5081639604ac6baebeae7cab74ff57ef2b07b9e4b66cd9f278f89187e2aaab1754b56d6d6d89871f79a8dcee8e3bee8ad9b367c56d9fb8f5a8daddffd5fb62ecd8b1e5760f3cf060dc70c3f555c7935e75f58278f8918762d9b2e555f38b88f8c8873f5e7e3e0f3cf0605c73f575dd06c8bb17de1937dc707ddc71c75de5792d5af444dc72cb476b8e61ede973000018280454e098dcbdf0ced8ba755b7ce0fdd5e12b097137dd7c63b4b6b694435e65fdd6addbe2baebaead2a8faedec6c4f71f7934962d5b1e73e7cea96a133d68972cfb8b5ffc52b9ecde7bee8b65cb96c782055796cb3ef4a10fd6f45c7eff9147e3539fbcbd3cdd13575dbd2066cf9e55d35bfaa94fde5eb3ccc4919e0300c04022a002c764f6ec59b164c94be9e2b279f3ce8b65cb96a78b232262c992976a86cf6eddbaad2adc45446cdad456357c387ad82e597677edaeba7a41b4b6b6c473cf2dae6a73342ebdf48d75d72b22e2b9e716476b6b4b558f71bdb6e9e70000309008a8c0514bc2d6faf51bd2556563c78e4d179d3063c78e8dd9b367c5c38f3c5475ab3c1676faf4691111f1ca2baf553cf2e84c98303e5d0400402f08a8c0514bf7fed5b365cb9674d109b365cb96aae34ad3b7e8a3609ad8b4a92d5d0400402f08a8c031d9ba755bcc9b775ebab86cd3a6b69a61bc89b973e7341cfedb17ba5b762209d9975efac67455afad5fbfa166186f62debcf3ea0ee90500e030011538265ffce29762f6ec5971f7c23babca93e94f7df2f6d8ba755bcd255cee5e7867b4b6b6747b46dc63959ce4e8feaf565f52e6a69b6fac3aa3ee030f3c18f3e75f5a75f6dcabae5e50357da4201e152760bae5968f5685d4db3e716bcc9e3dabea644d3d75db276ead7bb66300805391800a1c93ef3ff2685c73f57535c77a569e74e803efbfb17c5999e4965cfae5784b9651b9ec050baeacba0eeabdf7dc1777dc7157cc9f7f69b9cd2db77c349e78e217e5368f3efaa3f2734c87f14a1ff9f0c7cb9795a93ce6f59aabafd37b0a007004b9850bbf504a1702274ea954fb114cca4aa552f97eb1548c6247b15c562c26f78bd1512c46477b47148bc528168bd1d1d11e85a6a658f4f853a9390300749a7ff945d1d1de1e854253e4f3f9c8e7f351682a44219f8f5c2e1fb95c2ef2f9cebfb95c2ef2857ce4739dfd5b4959723fad5e19f4841e54000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013045400000032414005000020130454000000324140050000201304540000003241400500002013720b177ea1942e044e9c52a9f6239894954aa5f2fd62a918c58e62b9ac584cee17a3a3588c8ef68e28168b512c16a3a3a33d0a4d4db1e8f1a7527306805347d3c44931ecc237c4d0b3e746d3e4c9d1346a64443ec3fd2fc562b4efdc15edebd6c5bea54b62efd3cf44fbc60de95627ccfccb2f8a8ef6f628149a229fcf473e9f8f4253210af97ce472f9c8e57291cf77fecde572912fe4239feb7c7d93b2e47e5abd32e80901154e320115007aa769e2a418f3ee77c7f04b2e4957f53b7b7efef3d8fecd6f9e94a02aa0924519fe89090000aa8db8fc8a38fd539f3a25c26944c4f04b2e89d33ff5a91871f915e92a189004540000fa8551ef7c678cfde007b33d8cf768e4f331f6831f8c51ef7c67ba06069c53ecd30d00c0a968c4e55744cbf5ef49179f525aae7f8f9e54063c011500804c6b9a3829c6feceefa48b4f49637fe777a269e2a474310c18022a00009936e6ddef3ef586f53692cf773e5f18a006c8271d0080fea869e2a453e684483d35fc924bf4a2326009a8000064d6b00bdf902e1a1006eaf30601150080cc1a7af6dc74d18030509f3708a800006456d3e4c9e9a20161a03e6f10500100c8aca65123d34503c2407dde20a00200905d03e5ecbd6903f57933e0d9f2010000c80401150000804c1050010000c80401150000804c1050010000c8040115008001e9d56ffc4b3cf681ff10df9e7f517ceb4d17c4772ebf389ef883df8f5d2b96a79bc6928577c5b7de74413cf9f13faa2adfbee485f2e3d77eefdb557540ef09a800000c28c543edb1e8f77e2716dffee9d8b56a65e4f2b918d4d21ac543edb1e5d9a7e3b1df7e6fbcf2f5afa61f56a378a83d9ef9935ba3d4d11167fec71be3f4b75f9b6e02f492800a00c080f2f49ffe8fd8f6c20bd13c6244bcf1b39f8f773efe645cfddd1fc43b1f7f32cefc8f374644c4afeefc8bd8bee485f443ab3c7debc762efba3531faac3931f7c31f4d5703474140050060c0d8b6f8b9d8f8d80f235728c4259fffbb9870e99bcb75f9e6a698fbe18fc619bff11f222262c9e73f5bf1c86aabbff98dd8b8e8f1681e31222eb96b61ba1a384a022a000003c6861fff2822224ebbf2ad3166eeebd2d5111131ebc6df8f88882dcf3c1d8776ee4c57c7f6252fc4f3b77fba1c7207b5b4a69b00474940050060c0d8bd72454444b49e7f41baaa6ce8a44931f4b4d3222262dfc60d5575c5f6f678eabfffb7287574c4f9fff3930d432e707404540000069ce69123d3455572b942ba282222363ff58bd8bf797314860c8df1975c9aae068e91800a00c080533c74285d54a554ea48174544c484375d1613e75f1e1dfbf7c54fffe0f7a278a83ddd043806022a000003c690f1132222a2ed674fa4abca0eeddc19fbd6af8f5ca11023a6cf4c57c7f99ff874348f1811bb5f7d2596dee30449d09704540000068c29d7be3b2222d6ffe807b177ed9a74754444bcf4377f1d1111adf3ce8f7c7353ba3a9a478d8a4b3eff77912b1462c597ef8bb5dffb76ba09709404540000068c96f3e6c5c4f99747a9a3231effd0efc48e975f2ad7150fb5c7928577c5abdff897c8150af1baffdfffa87a6ca531735f17337feb3f4644c4b3ffef278e78cd54a0670454000006940b6fffab1879e6ac38b463473cfec10fc477afbc341e79c75be33b975f1c2bbe7c5fe40a8538ff7f7e3246cd3e2bfdd02a733ffcd172d8fdf97ffd8338b86d6bba09d04b022a0000034abeb9292ebfeffe38e7a31f8fa1a74d8e8efdfbe3e0b6ad51183224265cfae658f0e0b7e3f4b75f9b7e585df3fef4cfa279c48838b47b773cf7e93f4b5703bd945bb8f00ba5742170e2944ab51fc1a4ac542a95ef174bc5287614cb65c56272bf181dc56274b47744b1588c62b1181d1ded51686a8a458f3f959a3300f42f67dcfb7fd24503c6ab37fd7ebaa84fcdbffca2e8686f8f42a129f2f97ce4f3f9283415a290cf472e978f5c2e17f97ce7df5c2e17f9423ef2b9cefeada42cb99f56af0c7a420f2a0000009920a00200009009022a0000009920a00200009009022a0000d9552ca64b068681fabc19f00454000032ab7de7ae74d18030509f3708a800006456fbba75e9a20161a03e6f10500100c8ac7d4b97a48b068481fabc4140050020b3f63efd4cba684018a8cf1b0454000032ab7de386d8f3f39fa78b4f697b7efef368dfb8215d0c0382800a0040a66dffe63707ce596d8bc5cee70b0394800a0040a6b56fdc105bbef29574f12969cb57bea2f794014d40050020f3763ffee3d8f6e0bfa68b4f29db1efcd7d8fdf88fd3c530a008a80000f40b3bbff39dd8f2a52f9d7ac37d8bc5d8f2a52fc5ceef7c275d03038e800a0040bfb1fbf11fc7dadb6e3b654e9cb4e7e73f8fb5b7dda6e714bae4162efc42295d089c38a552ed4730292b954ae5fbc552318a1dc57259b198dc2f4647b1181ded1d512a95a2a3a3233a3adaa3a9b9397ef2e327537306805347d3c44931ecc237c4d0b3e746d3e4c9d1346a64443ec3fd2fc562b4efdc15edebd6c5bea54b62efd3cf9cd4e34ddf7cc5c5d17ee850140a4d5128142297cb45a1a910857c3e72b97ce472b9c8e73bffe672b9c817f291cf75bebe4959723fad5e19f484800a27d9d106d4c321554005007aef4801b5329c0aa89c2819fe89090000808144408553845f2a018063615f822c1050a11ff1c501009c0cf64138510454c8385f08004096d837e1781250e114e06b0200e80bf62938d90454000000324140857eaffe6f9df54b01003a35de57685c03c79b800aa718c7850000bd61df812c1150a19fe8eeab23fdc55279f16c00807aeaed2fa4a72b35ae81be23a0423f93fee2a89caef7450300d09df4fe437a5f223d0dc793800afd482edff80ba2bb3a008023e96e5fa2bb3ae84b022af443c92f998d7ed1cce5f20deb0000a2dc735a3f0e1c695f038e97fa5b249009d5c36daa3faee9a138e92f9062b11479bf76020075e4f3b928164b5565e9fd89f4be45e5be48ba0efa8a800afd58d59748ea8ba5582cc690a1432a5a0300741a327448148bc5888afd87cac8298072b208a8704a48ffc2998b521463f4c85155e500001111a3478e8a5214eb04d1f4349c58022a9c2272b95ce4f25dbf80e672512a9662d2e4d6743300809834b9354ac5d2e1ded3ae7d0838d90454c8a0f41744325d398cb75c96ba9ffc2d9522860c191a6346eb4505000e1b337a540c1932344aa5ea7d87e46ffa7eae62f86fa37d14e82b022af423b95cbeea34ef955f0ac99747f245522814a214a5983e7372b90d00c0f49993a314a528140a550134bd5f51be9fcfd59cac118e175b1af47387bf40aa87e8e4f3f98852c4a0418362eab4d3538f020006a2a9d34e8f418306459422f2f9cecbd21d1ede5bdd9b0a2783800a19977c49a4bf2c925f3cd3d395b742a110a552314e3b6d5c9c366942d5e3018081e5b44913e2b4d3c645a954acee3dadb825d2d34959e55f381e0454c8a846fff9d71b8273783a17f98a2f8f7c3e1f4d4d83a2a3a33da64c9b1453a61aee0b0003d194a99363cab449d1d1d11e4d4d83cabda711d1b5ef7078ffa1663fa33c55add1be0a1c0b01154eb2defee79e3e0eb5b3acfa17cd7ca16bc84e2e174d4d4dd1dcdc1952274e6c89d7cf3b2b468f1a59f57800e0d4347ad4c878fdbcb362e2c496e8e8688fe6e641d1d4d454de4fc8173ae3407a5f227134c79fa6e701bdd1bbad0d3829ea7d69245f2ce9ba5c2e1ff95cf525670a8542e7f126b98842a12966ce9a1ae79e372b264e1c1fc3860f8d7c2af00200fd533e9f8b61c387c6c489e3e3dcf366c5cc5953a350688ac8759e97a26a686fbe73e45512402bf7292af731d275703ce5162efc42295d089c78a552fd8f62525ef9b7542a4629228a1dc5aee9ce5bb158ec6a538c62b1181d5df5c56232dd1e1d1d1d71f0e0c12875368c5ce423978bc8e50ecfe7f0720eaf53fdb5ebd468dd0180deeb2e0456d6a47fa8cee572512a755e6aae14c588aee1b949302d149a229fcf9787f7160ac9fdce805a3e695245ef6aaeebc7ef74406db48e8dcaa1a70454c8907a41af2a245684c662a918a5e2e150990ea9c56247144ba572884d426ab1d8d115563ba2a3d811870eb55705ddcee52441371552ebac5fa2bb3a00a067ba0b789575d5e1f4700f68122c9b9b9ba2902f44a150e80aa5c9dfceb0992f748eb8cae70b1175c269aedcc35a3defcae5a7d52b83de12502143ea85bc7a01b13338d6ef45adbe156b426a52d7d1d15e2e2b2675c5c3f3affedb195813f5d633ba2907008eac51c04b97d71b921bd179bc683e9f04cfa497b4e278d354384d7a46ebddbaeb3d4ddfefae0c7a4b40858ca917f22acb9280d979bf18c53abda8d5b7ea909adc3ac36a75cf69b1a23e226a026b223d0d001c3fe9e057194893e95caefa4cfe9db7c33da695c1f348e13497cb45bee2e44849597af995ea95c1d110502163ea85bfcab272782c87caee87fa764ed70fa9876f9de5e9f9975281b852125e0180e3277de6fea80ca09561b52a9cd60f9fe9701a3d1cda5bf9377dbfbb32381a022a644cbd3018dd84d4caa1be87cbea87d452a9d4d94b5a27d01e9ee7e1c754fe4d54ad47550d00d0972a235f3a00a68363bab7b3367026d38dc3692497aaeb9a5f7a19e9fb951a95436f09a89031e94098a80a8635bd9dd5c7a32675a58a905a6ed71552d381363ddfeae5551f83da59567f3d0180be532ff82561b4f3fee17059f9b732705686d34465384d1e53194ed3f34bd45b9fe8a61c7a4b40850c6a14fe8e36a4a643681238cbc79c363c3952f57a1c691a00e83be9d0d768bae66fd7b5d00f1f935add1b5a794bca8453b24240858c6a14fe7a1a5293f2ca705add9b5a8a888a009bb4af38b634bd0ee96900e0c44907c1aaf0d8154a3b4366123e0f87d0e8ea354d1e5719508553b24440850cab1708d3653d0da995f72be79104d5f4bc9216e5322745028093aef2ccbd119dc7a9d606caea609a0ea4bd0da7f5a61b95c1b1125021c3d26134511b30abef2721b5f26448d5f5b54135512fb0d6d35d1d00d037ba0b818d0269a25e30ad2acf273daed5e1b4bbfb951a95c3b1105021e31a05c17ac1b4f27e3aa456d775ffb73b3d690300f4ad9e84c17a41b4d15fe194ac125021e3ba0b84e9bade06d59edeaf370d009c78e960d8284cd6bbdf9b605a6fba527775702c0454e807ba0b87e9ba4621b35e50ad6d53bb9c7a6500c0c9552f20360a9bf58269bd3695d2d395baab836325a0423fd15d504cd775375d1954d375f5a6138dca018013a751384c97977b4d8f104c7b325da9bb3ae80b022af433dd05c5745d77d3c9b5502b5b340aad8df4b41d00d07b3d0d839561b45c56ae134ce95f0454e8678e140aebd5a7cbd2d38924b4462ab896cb5c6a06004e9aca005a2eabbc5f11462ba5c3657aba5159a523d5435f1150a11f6a1430138deaeb95d72bab54195a2b75ff2800a02f348a858dc268a25ea0ac5716dd94278e540f7d4940857eea48c132ba69d3a83c71a47a00203b8e14201bd5372aafd49336d0970454e8e77a1a26bb6bd75d1d00d0bf74172abbababd4d376d0d7ba1f1b00645e4fbf4072b95cf9965659d7dd0d003879d2dfcb8d6e69ddd5d5d3d376703ce8418553c0d1f4801ecd630080fee568c2e6d13c06fa8a1e5438051ccd1749fad7d6a3990700901de9eff5a3f96e3f9ac7405fd2830aa7283da400c09108a4648d1e5438451deb2fa800c0a9c7fe015927a0c200e14b08000636fb02f407022a0c20be98006060b20f407f21a0c200931eda63880f009c3ad2dfefbee7e96f9c24090000804cd0830a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a80000006482800a0000402608a800000064c2ff0764fe01a6971ecc020000000049454e44ae426082, 'image/png', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-12 08:53:37', NULL);
INSERT INTO `books` (`id`, `title`, `author`, `isbn`, `genre`, `description`, `book_type`, `total_quantity`, `available_quantity`, `rental_price_per_day`, `purchase_price`, `publisher`, `publication_date`, `language`, `pages`, `cover_image`, `cover_image_type`, `pdf_file`, `pdf_file_name`, `pdf_file_size`, `pdf_file_type`, `rating`, `total_ratings`, `total_rentals`, `is_active`, `created_at`, `updated_at`, `created_by`) VALUES
(7, 'To Kill a Mockingbird', 'Harper Lee', '978-0061120084', 'Fiction', 'To Kill a Mockingbird is a novel by the American author Harper Lee. It was published in 1960 and was instantly successful. The novel is renowned for its warmth and humor.', 'physical', 8, 8, 3.00, NULL, 'Harper Perennial', '1960-07-11', '0', 336, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL),
(8, '1984', 'George Orwell', '978-0451524935', 'Dystopian', '1984 is a dystopian social science fiction novel and cautionary tale by English writer George Orwell. It was published on 8 June 1949 as Orwell\'s ninth and final book.', 'online', 1, 1, NULL, 9.99, 'Signet Classic', '1949-06-08', '0', 328, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL),
(9, 'Pride and Prejudice', 'Jane Austen', '978-0141439518', 'Romance', 'Pride and Prejudice is a romantic novel of manners written by Jane Austen in 1813. The novel follows the character development of Elizabeth Bennet.', 'physical', 6, 6, 2.00, NULL, 'Penguin Classics', '1813-01-28', '0', 432, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL),
(10, 'The Catcher in the Rye', 'J.D. Salinger', '978-0316769488', 'Fiction', 'The Catcher in the Rye is a novel by J. D. Salinger, partially published in serial form in 1945-1946 and as a novel in 1951. It is a classic coming-of-age story.', 'physical', 4, 4, 2.75, NULL, 'Little, Brown and Company', '1951-07-16', '0', 277, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL),
(11, 'The Hobbit', 'J.R.R. Tolkien', '978-0547928227', 'Fantasy', 'The Hobbit is a children\'s fantasy novel by English author J. R. R. Tolkien. It follows the quest of home-loving Bilbo Baggins to win a share of the treasure guarded by Smaug the dragon.', 'online', 1, 1, NULL, 12.99, 'Houghton Mifflin Harcourt', '1937-09-21', '0', 310, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL),
(12, 'Harry Potter and the Sorcerer\'s Stone', 'J.K. Rowling', '978-0590353427', 'Fantasy', 'Harry Potter and the Sorcerer\'s Stone is a fantasy novel written by British author J. K. Rowling. The first novel in the Harry Potter series.', 'physical', 10, 10, 3.50, NULL, 'Scholastic', '1997-06-26', '0', 309, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL),
(13, 'The Lord of the Rings', 'J.R.R. Tolkien', '978-0618640157', 'Fantasy', 'The Lord of the Rings is an epic high-fantasy novel by English author J. R. R. Tolkien. The story began as a sequel to Tolkien\'s 1937 fantasy novel The Hobbit.', 'physical', 7, 7, 4.00, NULL, 'Mariner Books', '1954-07-29', '0', 1178, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL),
(14, 'The Da Vinci Code', 'Dan Brown', '978-0307474278', 'Thriller', 'The Da Vinci Code is a 2003 mystery thriller novel by Dan Brown. It is Brown\'s second novel to include the character Robert Langdon.', 'online', 1, 1, NULL, 8.99, 'Anchor', '2003-03-18', '0', 489, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL),
(15, 'The Alchemist', 'Paulo Coelho', '978-0062315007', 'Fiction', 'The Alchemist is a novel by Brazilian author Paulo Coelho that was first published in 1988. A philosophical tale about a young Andalusian shepherd who dreams of finding treasure.', 'physical', 9, 9, 2.25, NULL, 'HarperOne', '1988-01-01', '0', 208, 0x30, 'image/svg+xml', NULL, NULL, NULL, NULL, 0.00, 0, 0, 1, '2025-12-11 09:30:41', '2025-12-11 09:30:41', NULL);

-- --------------------------------------------------------

--
-- Table structure for table `book_reviews`
--

CREATE TABLE `book_reviews` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `book_id` int(11) NOT NULL,
  `rating` tinyint(1) NOT NULL CHECK (`rating` >= 1 and `rating` <= 5),
  `review_text` text DEFAULT NULL,
  `is_verified_purchase` tinyint(1) DEFAULT 0,
  `is_approved` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Triggers `book_reviews`
--
DELIMITER $$
CREATE TRIGGER `update_book_rating_after_review` AFTER INSERT ON `book_reviews` FOR EACH ROW BEGIN
    UPDATE books 
    SET rating = (
        SELECT AVG(rating) 
        FROM book_reviews 
        WHERE book_id = NEW.book_id AND is_approved = 1
    ),
    total_ratings = (
        SELECT COUNT(*) 
        FROM book_reviews 
        WHERE book_id = NEW.book_id AND is_approved = 1
    )
    WHERE id = NEW.book_id;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `update_book_rating_after_review_update` AFTER UPDATE ON `book_reviews` FOR EACH ROW BEGIN
    UPDATE books 
    SET rating = (
        SELECT AVG(rating) 
        FROM book_reviews 
        WHERE book_id = NEW.book_id AND is_approved = 1
    ),
    total_ratings = (
        SELECT COUNT(*) 
        FROM book_reviews 
        WHERE book_id = NEW.book_id AND is_approved = 1
    )
    WHERE id = NEW.book_id;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Stand-in structure for view `book_statistics_view`
-- (See below for the actual view)
--
CREATE TABLE `book_statistics_view` (
`id` int(11)
,`title` varchar(255)
,`author` varchar(255)
,`genre` varchar(100)
,`book_type` enum('physical','online')
,`total_quantity` int(11)
,`available_quantity` int(11)
,`rental_price_per_day` decimal(10,2)
,`rating` decimal(3,2)
,`total_ratings` int(11)
,`total_rentals` bigint(21)
,`current_rentals` bigint(21)
,`avg_rental_cost` decimal(14,6)
,`total_revenue` decimal(32,2)
);

-- --------------------------------------------------------

--
-- Table structure for table `contact_messages`
--

CREATE TABLE `contact_messages` (
  `id` int(11) NOT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `subject` varchar(255) NOT NULL,
  `message` text NOT NULL,
  `status` enum('unread','read','replied','archived') NOT NULL DEFAULT 'unread',
  `admin_notes` text DEFAULT NULL,
  `replied_at` datetime DEFAULT NULL,
  `replied_by` int(11) DEFAULT NULL,
  `ip_address` varchar(45) DEFAULT NULL,
  `user_agent` text DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `contact_messages`
--

INSERT INTO `contact_messages` (`id`, `first_name`, `last_name`, `email`, `subject`, `message`, `status`, `admin_notes`, `replied_at`, `replied_by`, `ip_address`, `user_agent`, `created_at`, `updated_at`) VALUES
(2, 'Jane', 'Smith', 'jane.smith@example.com', 'Membership inquiry', 'Hello, I am interested in becoming a member. What are the benefits and pricing?', 'read', NULL, NULL, NULL, NULL, NULL, '2025-12-11 05:57:07', '2025-12-12 05:57:07'),
(3, 'Bob', 'Wilson', 'bob.wilson@example.com', 'Book suggestion', 'I would like to suggest adding more science fiction books to your collection. Thank you!', 'replied', NULL, '2025-12-12 14:08:16', 1, NULL, NULL, '2025-12-09 05:57:07', '2025-12-12 08:38:16'),
(4, 'Test', 'User', 'test@test.com', 'Test', 'This is a test message hello', 'read', NULL, NULL, NULL, '::1', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.7462', '2025-12-12 06:09:51', '2025-12-12 08:38:27'),
(5, 'TestUser', 'Testing', 'test@example.com', 'Test Subject', 'This is a test message from the terminal', 'read', NULL, NULL, NULL, '::1', 'Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.26100.7462', '2025-12-12 06:15:04', '2025-12-12 08:38:29'),
(6, 'jjj', 'k', 'admin@gmail.com', 'mj', 'kkknnnnnnnnnnnnnnnnn', 'read', NULL, NULL, NULL, '::1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0', '2025-12-12 08:37:33', '2025-12-12 08:38:20');

-- --------------------------------------------------------

--
-- Table structure for table `email_logs`
--

CREATE TABLE `email_logs` (
  `id` int(11) NOT NULL,
  `recipient_email` varchar(100) NOT NULL,
  `subject` varchar(255) NOT NULL,
  `email_type` enum('verification','password_reset','notification','rental_confirmation','reminder') NOT NULL,
  `success` tinyint(1) NOT NULL DEFAULT 0,
  `error_message` text DEFAULT NULL,
  `sent_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `login_attempts`
--

CREATE TABLE `login_attempts` (
  `id` int(11) NOT NULL,
  `email` varchar(100) NOT NULL,
  `ip_address` varchar(45) NOT NULL,
  `user_type` enum('user','admin') NOT NULL,
  `success` tinyint(1) NOT NULL DEFAULT 0,
  `failure_reason` varchar(255) DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `login_attempts`
--

INSERT INTO `login_attempts` (`id`, `email`, `ip_address`, `user_type`, `success`, `failure_reason`, `created_at`) VALUES
(1, 'test@example.com', '127.0.0.1', 'user', 0, NULL, '2025-12-04 03:18:23'),
(2, 'kajan@gmail.com', '127.0.0.1', 'user', 1, NULL, '2025-12-05 04:35:56'),
(3, 'kajan@gmail.com', '127.0.0.1', 'user', 1, NULL, '2025-12-10 10:07:04'),
(4, 'kajan@gmail.com', '127.0.0.1', 'user', 1, NULL, '2025-12-11 09:24:52'),
(5, 'kajan@gmail.com', '127.0.0.1', 'user', 1, NULL, '2025-12-12 08:52:57');

-- --------------------------------------------------------

--
-- Table structure for table `notifications`
--

CREATE TABLE `notifications` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `message` text NOT NULL,
  `type` enum('info','success','warning','error','rental','return','overdue') NOT NULL DEFAULT 'info',
  `is_read` tinyint(1) NOT NULL DEFAULT 0,
  `action_url` varchar(255) DEFAULT NULL,
  `expires_at` datetime DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `password_reset_tokens`
--

CREATE TABLE `password_reset_tokens` (
  `id` int(11) NOT NULL,
  `email` varchar(100) NOT NULL,
  `token` varchar(64) NOT NULL,
  `user_type` enum('user','admin') NOT NULL DEFAULT 'user',
  `expires_at` datetime NOT NULL,
  `used` tinyint(1) NOT NULL DEFAULT 0,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `purchases`
--

CREATE TABLE `purchases` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `book_id` int(11) NOT NULL,
  `purchase_price` decimal(10,2) NOT NULL,
  `payment_method` varchar(50) DEFAULT NULL,
  `transaction_id` varchar(100) DEFAULT NULL,
  `status` enum('pending','completed','failed','refunded') NOT NULL DEFAULT 'pending',
  `download_count` int(11) DEFAULT 0,
  `max_downloads` int(11) DEFAULT 5,
  `expires_at` datetime DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `rentals`
--

CREATE TABLE `rentals` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `book_id` int(11) NOT NULL,
  `start_date` date NOT NULL,
  `end_date` date NOT NULL,
  `phone_number` varchar(20) NOT NULL,
  `rental_days` int(11) NOT NULL,
  `daily_rate` decimal(10,2) NOT NULL,
  `total_cost` decimal(10,2) NOT NULL,
  `status` enum('pending','approved','rejected','active','completed','overdue','cancelled') NOT NULL DEFAULT 'pending',
  `notes` text DEFAULT NULL,
  `approved_at` datetime DEFAULT NULL,
  `approved_by` int(11) DEFAULT NULL,
  `returned_at` datetime DEFAULT NULL,
  `late_fee` decimal(10,2) DEFAULT 0.00,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `rentals`
--

INSERT INTO `rentals` (`id`, `user_id`, `book_id`, `start_date`, `end_date`, `phone_number`, `rental_days`, `daily_rate`, `total_cost`, `status`, `notes`, `approved_at`, `approved_by`, `returned_at`, `late_fee`, `created_at`, `updated_at`) VALUES
(1, 2, 6, '2025-12-25', '2025-12-26', '0716471520', 2, 2.50, 5.00, 'approved', NULL, NULL, NULL, NULL, 0.00, '2025-12-12 08:53:26', '2025-12-12 08:53:37');

--
-- Triggers `rentals`
--
DELIMITER $$
CREATE TRIGGER `update_book_quantity_after_rental` AFTER UPDATE ON `rentals` FOR EACH ROW BEGIN
    IF OLD.status != NEW.status THEN
        IF NEW.status = 'approved' THEN
            UPDATE books SET available_quantity = available_quantity - 1 WHERE id = NEW.book_id;
        ELSEIF OLD.status = 'approved' AND NEW.status IN ('completed', 'cancelled', 'rejected') THEN
            UPDATE books SET available_quantity = available_quantity + 1 WHERE id = NEW.book_id;
        END IF;
    END IF;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `system_settings`
--

CREATE TABLE `system_settings` (
  `id` int(11) NOT NULL,
  `setting_key` varchar(100) NOT NULL,
  `setting_value` text DEFAULT NULL,
  `setting_type` enum('string','number','boolean','json') NOT NULL DEFAULT 'string',
  `description` text DEFAULT NULL,
  `is_public` tinyint(1) NOT NULL DEFAULT 0,
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `updated_by` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `system_settings`
--

INSERT INTO `system_settings` (`id`, `setting_key`, `setting_value`, `setting_type`, `description`, `is_public`, `updated_at`, `updated_by`) VALUES
(1, 'site_name', 'BOOK HUB', 'string', 'Name of the website', 1, '2025-12-02 16:36:47', NULL),
(2, 'site_description', 'Your trusted partner for book rentals and purchases', 'string', 'Site description', 1, '2025-12-02 16:36:47', NULL),
(3, 'max_rental_days', '30', 'number', 'Maximum rental period in days', 0, '2025-12-02 16:36:47', NULL),
(4, 'late_fee_per_day', '2.00', 'number', 'Late fee charged per day', 0, '2025-12-02 16:36:47', NULL),
(5, 'max_simultaneous_rentals', '5', 'number', 'Maximum books a user can rent simultaneously', 0, '2025-12-02 16:36:47', NULL),
(6, 'email_verification_required', 'true', 'boolean', 'Whether email verification is required for new users', 0, '2025-12-02 16:36:47', NULL),
(7, 'rental_auto_approve', 'false', 'boolean', 'Whether rentals are automatically approved', 0, '2025-12-02 16:36:47', NULL),
(8, 'maintenance_mode', 'false', 'boolean', 'Site maintenance mode', 0, '2025-12-02 16:36:47', NULL);

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `password` varchar(255) NOT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `address` text DEFAULT NULL,
  `date_of_birth` date DEFAULT NULL,
  `email_verified` tinyint(1) NOT NULL DEFAULT 0,
  `email_verification_token` varchar(64) DEFAULT NULL,
  `email_verification_expires` datetime DEFAULT NULL,
  `last_login` datetime DEFAULT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `users`
--

INSERT INTO `users` (`id`, `first_name`, `last_name`, `email`, `password`, `phone`, `address`, `date_of_birth`, `email_verified`, `email_verification_token`, `email_verification_expires`, `last_login`, `is_active`, `created_at`, `updated_at`) VALUES
(1, 'Test', 'User', 'test@example.com', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', NULL, NULL, NULL, 1, NULL, NULL, NULL, 1, '2025-12-02 16:36:47', '2025-12-02 16:36:47'),
(2, 'kajan', 'kajan', 'kajan@gmail.com', '$2y$10$NfgeIotHXYKTibQxGNcpxu4MvMEeGJt87Sa5y18ZcyiilGdC6C6s6', NULL, NULL, NULL, 1, '19961989cf5077a413fe57091f4720bcd502be43ea0345684c01864cb73c2712', '2025-12-06 10:05:56', '2025-12-12 14:22:57', 1, '2025-12-05 04:35:56', '2025-12-12 08:52:57');

-- --------------------------------------------------------

--
-- Stand-in structure for view `user_rental_history_view`
-- (See below for the actual view)
--
CREATE TABLE `user_rental_history_view` (
`user_id` int(11)
,`user_name` varchar(101)
,`email` varchar(100)
,`total_rentals` bigint(21)
,`completed_rentals` bigint(21)
,`overdue_rentals` bigint(21)
,`total_spent` decimal(32,2)
,`last_rental_date` timestamp
);

-- --------------------------------------------------------

--
-- Table structure for table `user_sessions`
--

CREATE TABLE `user_sessions` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `session_token` varchar(128) NOT NULL,
  `user_type` enum('user','admin') NOT NULL DEFAULT 'user',
  `ip_address` varchar(45) DEFAULT NULL,
  `user_agent` text DEFAULT NULL,
  `expires_at` datetime NOT NULL,
  `is_active` tinyint(1) NOT NULL DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Structure for view `active_rentals_view`
--
DROP TABLE IF EXISTS `active_rentals_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `active_rentals_view`  AS SELECT `r`.`id` AS `rental_id`, `r`.`start_date` AS `start_date`, `r`.`end_date` AS `end_date`, `r`.`status` AS `status`, `r`.`total_cost` AS `total_cost`, concat(`u`.`first_name`,' ',`u`.`last_name`) AS `user_name`, `u`.`email` AS `user_email`, `u`.`phone` AS `phone`, `b`.`title` AS `book_title`, `b`.`author` AS `book_author`, `b`.`genre` AS `genre`, to_days(`r`.`end_date`) - to_days(curdate()) AS `days_remaining`, CASE WHEN curdate() > `r`.`end_date` THEN 'OVERDUE' WHEN to_days(`r`.`end_date`) - to_days(curdate()) <= 3 THEN 'DUE_SOON' ELSE 'ACTIVE' END AS `rental_status` FROM ((`rentals` `r` join `users` `u` on(`r`.`user_id` = `u`.`id`)) join `books` `b` on(`r`.`book_id` = `b`.`id`)) WHERE `r`.`status` = 'approved' AND curdate() between `r`.`start_date` and `r`.`end_date` ;

-- --------------------------------------------------------

--
-- Structure for view `book_statistics_view`
--
DROP TABLE IF EXISTS `book_statistics_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `book_statistics_view`  AS SELECT `b`.`id` AS `id`, `b`.`title` AS `title`, `b`.`author` AS `author`, `b`.`genre` AS `genre`, `b`.`book_type` AS `book_type`, `b`.`total_quantity` AS `total_quantity`, `b`.`available_quantity` AS `available_quantity`, `b`.`rental_price_per_day` AS `rental_price_per_day`, `b`.`rating` AS `rating`, `b`.`total_ratings` AS `total_ratings`, count(`r`.`id`) AS `total_rentals`, count(case when `r`.`status` = 'active' then 1 end) AS `current_rentals`, avg(`r`.`total_cost`) AS `avg_rental_cost`, sum(case when `r`.`status` = 'completed' then `r`.`total_cost` else 0 end) AS `total_revenue` FROM (`books` `b` left join `rentals` `r` on(`b`.`id` = `r`.`book_id`)) WHERE `b`.`is_active` = 1 GROUP BY `b`.`id` ;

-- --------------------------------------------------------

--
-- Structure for view `user_rental_history_view`
--
DROP TABLE IF EXISTS `user_rental_history_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `user_rental_history_view`  AS SELECT `u`.`id` AS `user_id`, concat(`u`.`first_name`,' ',`u`.`last_name`) AS `user_name`, `u`.`email` AS `email`, count(`r`.`id`) AS `total_rentals`, count(case when `r`.`status` = 'completed' then 1 end) AS `completed_rentals`, count(case when `r`.`status` = 'overdue' then 1 end) AS `overdue_rentals`, sum(`r`.`total_cost`) AS `total_spent`, max(`r`.`created_at`) AS `last_rental_date` FROM (`users` `u` left join `rentals` `r` on(`u`.`id` = `r`.`user_id`)) GROUP BY `u`.`id` ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `admins`
--
ALTER TABLE `admins`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`),
  ADD UNIQUE KEY `email` (`email`),
  ADD KEY `idx_username` (`username`),
  ADD KEY `idx_email` (`email`),
  ADD KEY `idx_role` (`role`),
  ADD KEY `fk_admin_created_by` (`created_by`);

--
-- Indexes for table `audit_logs`
--
ALTER TABLE `audit_logs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_user_id` (`user_id`),
  ADD KEY `idx_admin_id` (`admin_id`),
  ADD KEY `idx_action` (`action`),
  ADD KEY `idx_table_name` (`table_name`),
  ADD KEY `idx_created_at` (`created_at`);

--
-- Indexes for table `books`
--
ALTER TABLE `books`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_title` (`title`),
  ADD KEY `idx_author` (`author`),
  ADD KEY `idx_isbn` (`isbn`),
  ADD KEY `idx_genre` (`genre`),
  ADD KEY `idx_book_type` (`book_type`),
  ADD KEY `idx_is_active` (`is_active`),
  ADD KEY `idx_rating` (`rating`),
  ADD KEY `fk_book_created_by` (`created_by`),
  ADD KEY `idx_type_active` (`book_type`,`is_active`);

--
-- Indexes for table `book_reviews`
--
ALTER TABLE `book_reviews`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `unique_user_book_review` (`user_id`,`book_id`),
  ADD KEY `idx_book_id` (`book_id`),
  ADD KEY `idx_rating` (`rating`),
  ADD KEY `idx_is_approved` (`is_approved`);

--
-- Indexes for table `contact_messages`
--
ALTER TABLE `contact_messages`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_status` (`status`),
  ADD KEY `idx_email` (`email`),
  ADD KEY `idx_created_at` (`created_at`),
  ADD KEY `fk_replied_by` (`replied_by`);

--
-- Indexes for table `email_logs`
--
ALTER TABLE `email_logs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_recipient_email` (`recipient_email`),
  ADD KEY `idx_email_type` (`email_type`),
  ADD KEY `idx_success` (`success`),
  ADD KEY `idx_sent_at` (`sent_at`);

--
-- Indexes for table `login_attempts`
--
ALTER TABLE `login_attempts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_email` (`email`),
  ADD KEY `idx_ip_address` (`ip_address`),
  ADD KEY `idx_user_type` (`user_type`),
  ADD KEY `idx_success` (`success`),
  ADD KEY `idx_created_at` (`created_at`),
  ADD KEY `idx_email_created` (`email`,`created_at`);

--
-- Indexes for table `notifications`
--
ALTER TABLE `notifications`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_user_id` (`user_id`),
  ADD KEY `idx_type` (`type`),
  ADD KEY `idx_is_read` (`is_read`),
  ADD KEY `idx_created_at` (`created_at`);

--
-- Indexes for table `password_reset_tokens`
--
ALTER TABLE `password_reset_tokens`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_token` (`token`),
  ADD KEY `idx_email` (`email`),
  ADD KEY `idx_expires_at` (`expires_at`),
  ADD KEY `idx_user_type` (`user_type`);

--
-- Indexes for table `purchases`
--
ALTER TABLE `purchases`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_user_id` (`user_id`),
  ADD KEY `idx_book_id` (`book_id`),
  ADD KEY `idx_status` (`status`),
  ADD KEY `idx_transaction_id` (`transaction_id`);

--
-- Indexes for table `rentals`
--
ALTER TABLE `rentals`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_user_id` (`user_id`),
  ADD KEY `idx_book_id` (`book_id`),
  ADD KEY `idx_status` (`status`),
  ADD KEY `idx_start_date` (`start_date`),
  ADD KEY `idx_end_date` (`end_date`),
  ADD KEY `fk_rental_approved_by` (`approved_by`),
  ADD KEY `idx_user_status` (`user_id`,`status`),
  ADD KEY `idx_book_status` (`book_id`,`status`);

--
-- Indexes for table `system_settings`
--
ALTER TABLE `system_settings`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `setting_key` (`setting_key`),
  ADD KEY `idx_setting_key` (`setting_key`),
  ADD KEY `fk_setting_updated_by` (`updated_by`);

--
-- Indexes for table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `email` (`email`),
  ADD KEY `idx_email` (`email`),
  ADD KEY `idx_email_verified` (`email_verified`),
  ADD KEY `idx_verification_token` (`email_verification_token`),
  ADD KEY `idx_email_verified_active` (`email_verified`,`is_active`);

--
-- Indexes for table `user_sessions`
--
ALTER TABLE `user_sessions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `idx_session_token` (`session_token`),
  ADD KEY `idx_user_id` (`user_id`),
  ADD KEY `idx_expires_at` (`expires_at`),
  ADD KEY `idx_user_type` (`user_type`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `admins`
--
ALTER TABLE `admins`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `audit_logs`
--
ALTER TABLE `audit_logs`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `books`
--
ALTER TABLE `books`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=16;

--
-- AUTO_INCREMENT for table `book_reviews`
--
ALTER TABLE `book_reviews`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `contact_messages`
--
ALTER TABLE `contact_messages`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `email_logs`
--
ALTER TABLE `email_logs`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `login_attempts`
--
ALTER TABLE `login_attempts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;

--
-- AUTO_INCREMENT for table `notifications`
--
ALTER TABLE `notifications`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `password_reset_tokens`
--
ALTER TABLE `password_reset_tokens`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `purchases`
--
ALTER TABLE `purchases`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `rentals`
--
ALTER TABLE `rentals`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `system_settings`
--
ALTER TABLE `system_settings`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT for table `users`
--
ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `user_sessions`
--
ALTER TABLE `user_sessions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `admins`
--
ALTER TABLE `admins`
  ADD CONSTRAINT `fk_admin_created_by` FOREIGN KEY (`created_by`) REFERENCES `admins` (`id`) ON DELETE SET NULL;

--
-- Constraints for table `audit_logs`
--
ALTER TABLE `audit_logs`
  ADD CONSTRAINT `fk_audit_admin` FOREIGN KEY (`admin_id`) REFERENCES `admins` (`id`) ON DELETE SET NULL,
  ADD CONSTRAINT `fk_audit_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL;

--
-- Constraints for table `books`
--
ALTER TABLE `books`
  ADD CONSTRAINT `fk_book_created_by` FOREIGN KEY (`created_by`) REFERENCES `admins` (`id`) ON DELETE SET NULL;

--
-- Constraints for table `book_reviews`
--
ALTER TABLE `book_reviews`
  ADD CONSTRAINT `fk_review_book` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `fk_review_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `contact_messages`
--
ALTER TABLE `contact_messages`
  ADD CONSTRAINT `fk_contact_replied_by` FOREIGN KEY (`replied_by`) REFERENCES `admins` (`id`) ON DELETE SET NULL;

--
-- Constraints for table `notifications`
--
ALTER TABLE `notifications`
  ADD CONSTRAINT `fk_notification_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `purchases`
--
ALTER TABLE `purchases`
  ADD CONSTRAINT `fk_purchase_book` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `fk_purchase_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `rentals`
--
ALTER TABLE `rentals`
  ADD CONSTRAINT `fk_rental_approved_by` FOREIGN KEY (`approved_by`) REFERENCES `admins` (`id`) ON DELETE SET NULL,
  ADD CONSTRAINT `fk_rental_book` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `fk_rental_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Constraints for table `system_settings`
--
ALTER TABLE `system_settings`
  ADD CONSTRAINT `fk_setting_updated_by` FOREIGN KEY (`updated_by`) REFERENCES `admins` (`id`) ON DELETE SET NULL;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
