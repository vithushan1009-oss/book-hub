<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Registration â€” BOOK HUB</title>
  
  <!-- CSS Files -->
  <link rel="stylesheet" href="static/css/variables.css">
  <link rel="stylesheet" href="static/css/base.css">
  <link rel="stylesheet" href="static/css/components.css">
  <link rel="stylesheet" href="static/css/auth.css">
  <link rel="stylesheet" href="static/css/admin-login.css">
</head>
<body class="admin-login-page">
  <!-- Auth Container -->
  <div class="auth-container admin-auth">
    <div class="auth-wrapper">
      <!-- Left Side - Admin Info -->
      <div class="auth-image admin-image">
        <div class="auth-overlay admin-overlay"></div>
        <div class="auth-content">
          <div class="admin-badge">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
          </div>
          <h2>Create Admin Account</h2>
          <p>Register a new administrator to manage the BOOK HUB platform</p>
          <div class="auth-features admin-features">
            <div class="auth-feature">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              </svg>
              <span>Secure Admin Access</span>
            </div>
            <div class="auth-feature">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
              <span>Full User Management</span>
            </div>
            <div class="auth-feature">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="7" height="7"/>
                <rect x="14" y="3" width="7" height="7"/>
                <rect x="14" y="14" width="7" height="7"/>
                <rect x="3" y="14" width="7" height="7"/>
              </svg>
              <span>Dashboard Control</span>
            </div>
            <div class="auth-feature">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/>
              </svg>
              <span>Inventory Management</span>
            </div>
          </div>
          <div class="admin-security-notice">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <line x1="12" y1="16" x2="12" y2="12"/>
              <line x1="12" y1="8" x2="12.01" y2="8"/>
            </svg>
            <span>Restricted access - Only for authorized personnel</span>
          </div>
        </div>
      </div>

      <!-- Right Side - Admin Registration Form -->
      <div class="auth-form-container">
        <div class="auth-form-wrapper">
          <!-- Back to Login Link -->
          <a href="admin-login.html" class="back-to-site">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="19" y1="12" x2="5" y2="12"/>
              <polyline points="12 19 5 12 12 5"/>
            </svg>
            Back to Admin Login
          </a>

          <div class="auth-header admin-header">
            <div class="admin-logo-container">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/>
              </svg>
              <span>BOOK <span class="accent">HUB</span></span>
            </div>
            <h1>Admin Registration</h1>
            <p>Create a new administrator account</p>
          </div>

          <!-- Message Container -->
          <div id="message-container"></div>

          <form class="auth-form" id="admin-register-form" action="/BOOKHUB/book-hub-central/src/handlers/admin-register-handler.php" method="POST">
            <div class="form-group">
              <label for="full-name">Full Name</label>
              <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                  <circle cx="12" cy="7" r="4"/>
                </svg>
                <input type="text" id="full-name" name="full_name" placeholder="Enter full name" required>
              </div>
            </div>

            <div class="form-group">
              <label for="username">Username</label>
              <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                  <circle cx="12" cy="7" r="4"/>
                </svg>
                <input type="text" id="username" name="username" placeholder="Enter username" required minlength="3">
              </div>
              <small>Username must be at least 3 characters</small>
            </div>

            <div class="form-group">
              <label for="admin-email">Email Address</label>
              <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect width="20" height="16" x="2" y="4" rx="2"/>
                  <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
                </svg>
                <input type="email" id="admin-email" name="email" placeholder="admin@example.com" required>
              </div>
            </div>

            <div class="form-group">
              <label for="admin-password">Password</label>
              <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                <input type="password" id="admin-password" name="password" placeholder="Create strong password" required minlength="8">
                <button type="button" class="toggle-password" onclick="togglePassword('admin-password')">
                  <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                </button>
              </div>
              <small>Password must be at least 8 characters long</small>
            </div>

            <div class="form-group">
              <label for="confirm-password">Confirm Password</label>
              <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                <input type="password" id="confirm-password" name="confirm_password" placeholder="Re-enter password" required minlength="8">
                <button type="button" class="toggle-password" onclick="togglePassword('confirm-password')">
                  <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                </button>
              </div>
            </div>

            <div class="form-group">
              <label for="admin-role">Admin Role</label>
              <div class="input-with-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                <select id="admin-role" name="role" required>
                  <option value="">Select Role</option>
                  <option value="super_admin">Super Admin</option>
                  <option value="admin">Admin</option>
                  <option value="moderator">Moderator</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" name="is_active" value="1" checked>
                <span>Activate account immediately</span>
              </label>
            </div>

            <button type="submit" class="btn btn-primary btn-lg auth-submit admin-submit">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <line x1="22" y1="11" x2="16" y2="11"/>
                <line x1="19" y1="8" x2="19" y2="14"/>
              </svg>
              Create Admin Account
            </button>
          </form>

          <div class="admin-security-info">
            <div class="security-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
              </svg>
              <span>Encrypted Data</span>
            </div>
            <div class="security-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
              </svg>
              <span>Secure Registration</span>
            </div>
            <div class="security-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2v20M2 12h20"/>
              </svg>
              <span>Activity Logged</span>
            </div>
          </div>

          <div class="auth-footer admin-footer">
            <p>Already have an account? <a href="admin-login.html">Sign In</a></p>
            <p class="copyright">&copy; 2025 BOOK HUB. All rights reserved.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript Files -->
  <script src="static/js/common.js"></script>
  <script>
    function togglePassword(fieldId) {
      const field = document.getElementById(fieldId);
      field.type = field.type === 'password' ? 'text' : 'password';
    }

    // Form validation
    document.getElementById('admin-register-form').addEventListener('submit', function(e) {
      const password = document.getElementById('admin-password').value;
      const confirmPassword = document.getElementById('confirm-password').value;
      
      if (password !== confirmPassword) {
        e.preventDefault();
        document.getElementById('message-container').innerHTML = 
          '<div class="alert alert-error">Passwords do not match!</div>';
        setTimeout(() => {
          document.getElementById('message-container').innerHTML = '';
        }, 3000);
        return false;
      }
      
      if (password.length < 8) {
        e.preventDefault();
        document.getElementById('message-container').innerHTML = 
          '<div class="alert alert-error">Password must be at least 8 characters long!</div>';
        setTimeout(() => {
          document.getElementById('message-container').innerHTML = '';
        }, 3000);
        return false;
      }
    });

    // Message Display
    function displayMessages() {
      const params = new URLSearchParams(window.location.search);
      const messageContainer = document.getElementById('message-container');
      const error = params.get('error');
      const success = params.get('success');
      
      if (error) {
        messageContainer.innerHTML = `<div class="alert alert-error">${decodeURIComponent(error)}</div>`;
        params.delete('error');
        window.history.replaceState({}, '', `${window.location.pathname}${params.toString() ? '?' + params.toString() : ''}`);
      }
      
      if (success) {
        messageContainer.innerHTML = `<div class="alert alert-success">${decodeURIComponent(success)}</div>`;
        params.delete('success');
        window.history.replaceState({}, '', `${window.location.pathname}${params.toString() ? '?' + params.toString() : ''}`);
      }
      
      if (error || success) {
        setTimeout(() => {
          const alert = messageContainer.querySelector('.alert');
          if (alert) {
            alert.style.opacity = '0';
            alert.style.transition = 'opacity 0.3s';
            setTimeout(() => messageContainer.innerHTML = '', 300);
          }
        }, 5000);
      }
    }
    
    document.addEventListener('DOMContentLoaded', displayMessages);
  </script>
</body>
</html>
