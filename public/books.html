<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>BOOK HUB — Browse Books</title>
  
  <!-- CSS Files -->
  <link rel="stylesheet" href="static/css/variables.css">
  <link rel="stylesheet" href="static/css/base.css">
  <link rel="stylesheet" href="static/css/components.css">
  <link rel="stylesheet" href="static/css/navigation.css">
  <link rel="stylesheet" href="static/css/footer.css">
  <link rel="stylesheet" href="static/css/books.css">
</head>
<body>
  <nav>
    <div class="container nav-content">
      <a class="nav-logo" href="index.html">
        <svg viewBox="0 0 24 24" fill="none"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" fill="currentColor"/></svg>
        <span>BOOK <span class="accent">HUB</span></span>
      </a>

      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="books.html" class="active">Books</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>

      <div class="nav-cta">
        <a href="login.html" class="btn btn-outline">Sign In</a>
        <a href="register.html" class="btn btn-secondary">Get Started</a>
      </div>

      <button class="mobile-menu-btn hidden-desktop">☰</button>
    </div>
    <div class="mobile-menu hidden-desktop">
      <a href="index.html">Home</a>
      <a href="books.html">Books</a>
      <a href="about.html">About Us</a>
      <a href="gallery.html">Gallery</a>
      <a href="contact.html">Contact</a>
      <div style="display: flex; flex-direction: column; gap: 0.5rem; padding-top: 1rem;">
        <a href="login.html" class="btn btn-outline" style="width: 100%;">Sign In</a>
        <a href="register.html" class="btn btn-secondary" style="width: 100%;">Get Started</a>
      </div>
    </div>
  </nav>

  <header class="page-header">
    <div class="container">
      <h1>Our Book Collection</h1>
      <p>Explore thousands of books available for rent or purchase</p>
    </div>
  </header>

  <section>
    <div class="container">
      <!-- Search Bar Only -->
      <div class="books-search-bar">
        <form method="GET" action="books.html" id="searchForm">
          <div class="search-input-wrapper">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <circle cx="11" cy="11" r="7"/>
              <path d="m21 21-4.3-4.3"/>
            </svg>
            <input 
              type="text" 
              name="search"
              id="searchInput" 
              placeholder="Search books, authors, ISBN..." 
              value=""
              autocomplete="off"
              class="search-input-field">
            <!-- Clear button will be added dynamically by JavaScript when search has value -->
          </div>
          <button type="submit" class="search-submit-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <circle cx="11" cy="11" r="7"/>
              <path d="m21 21-4.3-4.3"/>
            </svg>
            Search
          </button>
        </form>
      </div>

      <div class="books-layout">
        <div class="books-content">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
        <p class="muted">Showing <strong>8</strong> books</p>
      </div>

      <div class="books-grid">
        <!-- repeated book cards similar to index.html, referencing src assets -->
        <div class="book-card">
          <div class="book-card-image"><img src="assets/images/book-1.jpg" alt="Fiction Fomen"><span class="book-badge badge-buy">Buy Now</span></div>
          <div class="book-card-content"><h3>Fiction Fomen</h3><p class="author">Shen Gerdings</p><div class="book-footer"><div class="book-price">$12.99</div><button class="btn btn-secondary btn-sm">Buy</button></div></div>
        </div>

        <div class="book-card">
          <div class="book-card-image"><img src="assets/images/book-2.jpg" alt="Nook"><span class="book-badge badge-rent">For Rent</span></div>
          <div class="book-card-content"><h3>Nook</h3><p class="author">Bab Giuing</p><div class="book-footer"><div class="book-price">$3.99<span>/week</span></div><button class="btn btn-accent btn-sm">Rent</button></div></div>
        </div>

        <div class="book-card">
          <div class="book-card-image"><img src="assets/images/book-3.jpg" alt="Mystic Tales"><span class="book-badge badge-buy">Buy Now</span></div>
          <div class="book-card-content"><h3>Mystic Tales</h3><p class="author">Fantasy Author</p><div class="book-footer"><div class="book-price">$15.99</div><button class="btn btn-secondary btn-sm">Buy</button></div></div>
        </div>

        <div class="book-card">
          <div class="book-card-image"><img src="assets/images/book-4.jpg" alt="Science Wonders"><span class="book-badge badge-rent">For Rent</span></div>
          <div class="book-card-content"><h3>Science Wonders</h3><p class="author">Knowledge Seeker</p><div class="book-footer"><div class="book-price">$4.99<span>/week</span></div><button class="btn btn-accent btn-sm">Rent</button></div></div>
        </div>

        <!-- duplicates to simulate more items -->
        <div class="book-card">
          <div class="book-card-image"><img src="assets/images/book-1.jpg" alt="Fiction Fomen"><span class="book-badge badge-buy">Buy Now</span></div>
          <div class="book-card-content"><h3>Fiction Fomen</h3><p class="author">Shen Gerdings</p><div class="book-footer"><div class="book-price">$12.99</div><button class="btn btn-secondary btn-sm">Buy</button></div></div>
        </div>

        <div class="book-card">
          <div class="book-card-image"><img src="assets/images/book-2.jpg" alt="Nook"><span class="book-badge badge-rent">For Rent</span></div>
          <div class="book-card-content"><h3>Nook</h3><p class="author">Bab Giuing</p><div class="book-footer"><div class="book-price">$3.99<span>/week</span></div><button class="btn btn-accent btn-sm">Rent</button></div></div>
        </div>

        <div class="book-card">
          <div class="book-card-image"><img src="assets/images/book-3.jpg" alt="Mystic Tales"><span class="book-badge badge-buy">Buy Now</span></div>
          <div class="book-card-content"><h3>Mystic Tales</h3><p class="author">Fantasy Author</p><div class="book-footer"><div class="book-price">$15.99</div><button class="btn btn-secondary btn-sm">Buy</button></div></div>
        </div>

        <div class="book-card">
          <div class="book-card-image"><img src="assets/images/book-4.jpg" alt="Science Wonders"><span class="book-badge badge-rent">For Rent</span></div>
          <div class="book-card-content"><h3>Science Wonders</h3><p class="author">Knowledge Seeker</p><div class="book-footer"><div class="book-price">$4.99<span>/week</span></div><button class="btn btn-accent btn-sm">Rent</button></div></div>
        </div>

        </div>

        <!-- Pagination -->
        <div class="pagination">
          <button class="btn btn-outline">Previous</button>
          <button class="btn btn-outline active">1</button>
          <button class="btn btn-outline">2</button>
          <button class="btn btn-outline">3</button>
          <button class="btn btn-outline">Next</button>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="footer-bottom">
        <p>© 2025 BOOK HUB. All rights reserved.</p>
        <div class="footer-links">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">Cookie Policy</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript Files -->
  <script src="static/js/common.js"></script>
  <script src="static/js/books.js"></script>
  <script>
    // Search functionality - matches books.php behavior
    document.addEventListener('DOMContentLoaded', function() {
      const searchForm = document.getElementById('searchForm');
      const searchInput = document.getElementById('searchInput');
      const searchWrapper = document.querySelector('.search-input-wrapper');
      
      // Get search parameter from URL
      const urlParams = new URLSearchParams(window.location.search);
      const searchValue = urlParams.get('search') || '';
      
      // Function to add/remove clear button
      function updateClearButton() {
        const existingBtn = document.getElementById('clearSearchBtn');
        const hasValue = searchInput && searchInput.value.trim() !== '';
        
        if (hasValue && !existingBtn && searchWrapper) {
          // Add clear button
          const clearBtn = document.createElement('button');
          clearBtn.type = 'button';
          clearBtn.className = 'clear-search-btn';
          clearBtn.id = 'clearSearchBtn';
          clearBtn.setAttribute('aria-label', 'Clear search');
          clearBtn.innerHTML = `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <line x1="18" y1="6" x2="6" y2="18"/>
              <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          `;
          clearBtn.addEventListener('click', function() {
            window.location.href = 'books.html';
          });
          searchWrapper.appendChild(clearBtn);
        } else if (!hasValue && existingBtn) {
          // Remove clear button
          existingBtn.remove();
        }
      }
      
      // Set search input value if present in URL
      if (searchInput && searchValue) {
        searchInput.value = searchValue;
        updateClearButton();
      }
      
      // Update clear button on input change
      if (searchInput) {
        searchInput.addEventListener('input', updateClearButton);
        
        // Submit on Enter key
        searchInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            e.preventDefault();
            if (searchForm) {
              searchForm.submit();
            }
          }
        });
      }
    });
  </script>
</body>
</html>
